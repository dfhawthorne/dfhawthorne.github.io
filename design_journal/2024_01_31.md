# 2024-01-31: Conversion of Wiki to Jekyll - Proposed Structure

## Summary

Having successfully converted the home page to Jekyll format, it is now time to roll out Jekyll across all pages in my Wiki. This design journal entry describes the proposed structure

## Table of Contents

* [Choice of Layouts](#choice-of-layouts)
  * [All Layouts](#all-layouts)
  * [Default Layout](#default-layout)
  * [Home Layout](#home-layout)
  * [Journal Layout](#journal-layout)
  * [Menu Layout](#menu-layout)
* [Page Divisions](#page-divisions)
  * [Banner](#banner)
  * [Side Nav](#side-nav)
  * [Page Title](#page-title)
  * [Top Nav](#top-nav)
  * [Sub Pages](#sub-pages)
  * [Link Nav](#link-nav)
  * [Content](#content)
  * [Footer](#footer)

## Choice of Layouts

I plan to use the following layouts:

| __Layout Name__ | __Description__ | __Applies to__ | __Banner__ | __Side Nav__ | __Page Title__ | __Top Nav__ | __Sub Pages__ | __Link Nav__ | __Footer__ | __Code Location__ |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| `home` | Wiki landing page. | Only to `index.html` and `home.html`. | :white_check_mark: | :white_check_mark: | :white_check_mark: | :x: | :x: | :x: | :white_check_mark: | `docs/_layouts/home.html` |
| `default` | Normal Wiki page with just content. | Pages without a layout specified. | :white_check_mark: | :white_check_mark: | :white_check_mark: | :white_check_mark: | :x: | :x: | :white_check_mark: |`docs/_layouts/default.html` |
| `journal` | System build journals | Pages with names that start with a number indicating either a sequence number or a date in ISO format. | :white_check_mark: | :white_check_mark: | :white_check_mark: | :white_check_mark: | :x: | :white_check_mark: | :white_check_mark: |`docs/_layouts/journal.html` |
| `menu` | Anchor page for a directory of sub-pages. | Classic Google Sites page with the subpages widget. | :white_check_mark: | :white_check_mark: | :white_check_mark: | :white_check_mark: | :white_check_mark: | :x: | :white_check_mark: |`docs/_layouts/menu.html` |

### All Layouts

All layouts have the following page divisions:

1. Banner
1. Side Navigation Bar
1. Page title
1. Footer

### Default Layout

This layout, `docs/_layouts/default.html`, is for pages without an explicit layout set.

The path from the home page to the current page is displayed through the top navigation bar (`docs/_includes/top_nav.html`).

### Home Layout

This layout, `docs/_layouts/home.html`, is only for the landing pages. It does not display a top navigation bar.

### Journal Layout

The layout, `docs/_layouts/journal.html`, is for a doubly-linked list of entries in a journal. To display the sideways navigation, a special navigation bar (`docs/_includes/link.html`) is included twice: before and after the page content.

The path from the home page to the current page is displayed through the top navigation bar (`docs/_includes/top_nav.html`).

### Menu Layout

The layout, `docs/_layouts/menu.html`, is for anchor pages within the Wiki hierarchy.

This layout shows a menu of sub-pages generated from `docs/_includes/sub_pages.html`.

The path from the home page to the current page is displayed through the top navigation bar (`docs/_includes/top_nav.html`).

## Page Divisions

There are up to eight (8) divisions on each web page in my Wiki:

1. Banner
1. Side Nav
1. Page Title
1. Top Nav
1. Sub Pages
1. Link Nav
1. Content
1. Footer

### Banner

This is the banner at the top of the page identifying my Wiki. This is generated by the file `docs/_includes/banner.html`. The use of inclusion allows me to create the banner in a central place.

The styling is done through a class called `banner` for which CSS is generated by `docs/_sass/_banner.scss`.

### Side Nav

This a vertical navigation bar on the left hand side of the web page. This is generated by the file `docs/_includes/side_nav.html` using the data in the file `docs/_data/side_nav.html` which is populated by the script, `scripts/build_nav_data.py`.

The name of the include file has been changed from `navigation.html` to `side_nav.html` in order to maintain consistency among names for class and file names. The name of the CSS file has been changed from `_side_nav_bar.scss` to `_side_nav.scss` for the same reason.

In release V1R1, this menu will not be collapsible. Issue #18 has been raised to implement this. This should be fixed in release V1R2.

The styling is done through a class called `side_nav` for which CSS is generated by `docs/_sass/_side_nav.scss`.

### Page Title

The page title appears below the banner and to the left of the side navigation bar. The source of the page title will be from the page variables at the top of the page.

This value will be extracted from current classic Google Sites pages by searching the following in order:

1. Current text of any `<title>` tag;
1. Current text of the first `<h1>` tag;
1. Current text of the first `<span>` tag with the class set to `sites-page-title`.

Because the page title is used in both the head and body, there is no easy way to set up page include files. Each layout file will have to have the same HTML snippets included.

The styling is done through a class called `page-title` for which CSS is generated by `docs/_sass/_page_title.scss`.

### Top Nav

The top navigation bar appears below the page title and to the left of the side navigation bar. The navigation bar shows the path to the current page from the home page. The text of the path element is the title of the anchor page.

This navigation bar is generated by the file `docs/_includes/top_nav.html` using the data in the file `docs/_data/side_nav.html`. I have yet to devise how to generate, store, and access this navigation data. The code from `scripts/build_nav_data.py` would form the basis for this.

The styling is done through a class called `top_nav` for which CSS is generated by `docs/_sass/_top_nav.scss`. This file was renamed from `docs/_sass/_top_nav_bar.scss`.

### Sub Pages

The page footer is generated by `docs/_includes/sub_pages.html`. How this is done is yet to be determined. The idea is to have an in-page area showing the titles of all sub-pages to the directory whose name matches this page with the suffix, `.html`, removed.

This page division is styled through the class, `sub-pages`, whose CSS is generated by `docs/_sass/_sub-pages.scss`.

### Link Nav

The journal link navigation bar is generated by `docs/_includes/link.html`. How this is done is yet to be determined.

Because this navigation bar is duplicated above and below the page content, is is styled through the classes, `top_link` and `bottom_link`, whose CSS is generated by `docs/_sass/_link.scss`.

### Content

The page content is styled through the class, `content`, whose CSS is generated by `docs/_sass/_content.scss`.

### Footer

The page footer is generated by `docs/_includes/footer.html`, and styled through the class, `footer`, whose CSS is generated by `docs/_sass/_footer.scss`.
