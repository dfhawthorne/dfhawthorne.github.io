---
layout: default
title: Richmond Cluster (02)
base-url: home/10g-ocm/10g-system-builds/richmond-cluster/richmond-cluster-02.html
breadcrumbs:
- title: Home
  url: index.html
- title: 10G OCM
  url: home/10g-ocm.html
- title: 10G System Builds
  url: home/10g-ocm/10g-system-builds.html
- title: Richmond Cluster
  url: home/10g-ocm/10g-system-builds/richmond-cluster.html
- title: Richmond Cluster (02)
  url: home/10g-ocm/10g-system-builds/richmond-cluster/richmond-cluster-02.html
scroll-bar:
  left-link:
    url: /home/10g-ocm/10g-system-builds/richmond-cluster/richmond-cluster-01.html
    title: Richmond Cluster (01)
  right-link:
    url: home/10g-ocm/10g-system-builds/richmond-cluster/richmond-cluster-03.html
    title: Richmond Cluster (03)
---
<div dir="ltr">
 <p style="FONT-SIZE:smaller;FONT-STYLE:italic">
  Thursday 01 May, 2008 - 23:17
 </p>
 <p>
  My plan for configuring the
  <b>
   richmond
  </b>
  cluster is to use the following blog posts.
 </p>
 <p>
  <a href="home/10g-ocm/missing-bigblog-links.html" rel="nofollow">
   Changing the Hostname
  </a>
 </p>
 <p>
  <a href="home/10g-ocm/missing-bigblog-links.html" rel="nofollow">
   penrith2 Interfaces Fixed
  </a>
  to configure the hardware addresses of the NICs.
 </p>
 <p>
  <a href="home/10g-ocm/missing-bigblog-links.html" rel="nofollow">
   Clusterware Tweaks (2)
  </a>
  to set up /etc/hosts with
  <b>
   richmond
  </b>
  instead of
  <b>
   penrith
  </b>
  . The ic.yaocm.id.au network is dropped in favour of the yaocm.id.au which now covers both NICs. The public names will be suffixed with either -vip or -mgt. The DNS alias will be the full name without the yaocm.id.au suffix.
 </p>
 <table border="1">
  <tbody>
   <tr>
    <td>
     Image
    </td>
    <td>
     Interface
    </td>
    <td>
     IP Address
    </td>
    <td>
     DNS
    </td>
   </tr>
   <tr>
    <td rowspan="3">
     richmond1
    </td>
    <td>
     eth0
    </td>
    <td>
     192.168.100.65
    </td>
    <td>
     richmond1-mgt.yaocm.id.au
    </td>
   </tr>
   <tr>
    <td>
     eth0:1
    </td>
    <td>
     192.168.100.33
    </td>
    <td>
     richmond1-vip.yaocm.id.au
    </td>
   </tr>
   <tr>
    <td>
     eth1
    </td>
    <td>
     192.168.101.1
    </td>
    <td>
     richmond1.yaocm.id.au
    </td>
   </tr>
   <tr>
    <td rowspan="3">
     richmond2
    </td>
    <td>
     eth0
    </td>
    <td>
     192.168.100.66
    </td>
    <td>
     richmond2-mgt.yaocm.id.au
    </td>
   </tr>
   <tr>
    <td>
     eth0:1
    </td>
    <td>
     192.168.100.34
    </td>
    <td>
     richmond2-vip.yaocm.id.au
    </td>
   </tr>
   <tr>
    <td>
     eth1
    </td>
    <td>
     192.168.101.2
    </td>
    <td>
     richmond2.yaocm.id.au
    </td>
   </tr>
  </tbody>
 </table>
 <p>
  <a href="home/10g-ocm/missing-bigblog-links.html" rel="nofollow">
   Almost Cluster Ready
  </a>
  to configure the routing.
 </p>
 <p>
  <a href="home/10g-ocm/missing-bigblog-links.html" rel="nofollow">
   CLUVFY NODECON (2)
  </a>
  to set up the ~/.ssh/config file and to save all of the host keys.
 </p>
 <p>
  <a href="home/10g-ocm/missing-bigblog-links.html" rel="nofollow">
   Clusterware Preparation
  </a>
  to set up the groups, user, and ssh. Also to load the software. Since the OCM shared folder is set up on each node, there is no need to do scp. cvuqdisk will be installed using the following procedure.
 </p>
 <p>
  <a href="home/10g-ocm/missing-bigblog-links.html" rel="nofollow">
   Clusterware Tweaks (1)
  </a>
  to install the cvuqdisk package on both
  <b>
   richmond1
  </b>
  and
  <b>
   richmond2
  </b>
  .
 </p>
 <p>
  <a href="home/10g-ocm/missing-bigblog-links.html" rel="nofollow">
   Install CLUVFY
  </a>
 </p>
 <p>
  <a href="home/10g-ocm/10g-system-builds/miscellaneous/cluvfy-crsinst.html" rel="nofollow">
   CLUVFY CRSINST
  </a>
  to verify that the cluster is ready to have the clusterware installed.
 </p>
 <p>
  <a href="home/10g-ocm/missing-bigblog-links.html" rel="nofollow">
   RAW Devices added to Basic Cluster
  </a>
  to set up raw devices as follows:
 </p>
 <table border="1">
  <tbody>
   <tr>
    <td>
     Major
    </td>
    <td>
     Minor
    </td>
    <td>
     Raw
    </td>
    <td>
     Purpose
    </td>
   </tr>
   <tr>
    <td rowspan="6">
     8
    </td>
    <td>
     17
    </td>
    <td>
     1
    </td>
    <td>
     OCR Primary
    </td>
   </tr>
   <tr>
    <td>
     18
    </td>
    <td>
     2
    </td>
    <td>
     Voting Disk #1
    </td>
   </tr>
   <tr>
    <td>
     33
    </td>
    <td>
     16
    </td>
    <td>
     OCR Mirror
    </td>
   </tr>
   <tr>
    <td>
     34
    </td>
    <td>
     17
    </td>
    <td>
     Voting Disk #2
    </td>
   </tr>
   <tr>
    <td>
     49
    </td>
    <td>
     31
    </td>
    <td>
     OCR Spare
    </td>
   </tr>
   <tr>
    <td>
     50
    </td>
    <td>
     32
    </td>
    <td>
     Voting Disk #3
    </td>
   </tr>
  </tbody>
 </table>
 <p>
  I have spread the OCR across the first partition of each disk with the voting on the second partition. Since there is a maximum fifteen (15) usable partitions on a disk (the very first is always the partition table), I have allocated the raw device numbers in lots of fifteen (15) so that they correspond to the same physical disk.
 </p>
</div>
