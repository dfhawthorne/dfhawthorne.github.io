---
layout: default
title: 'Troubleshoot the Oracle Cluster Registry (OCR) file'
base-url: home/11g-oce-rac/section-1---grid-infrastructure-clusterware-and-asm/troubleshooting-oracle-clusterware/troubleshoot-the-oracle-cluster-registry-ocr-file.html
breadcrumbs:
- title: 'Home'
  url: index.html
- title: '11G OCE RAC'
  url: home/11g-oce-rac.html
- title: 'Section 1 - Grid Infrastructure: Clusterware and ASM'
  url: home/11g-oce-rac/section-1---grid-infrastructure-clusterware-and-asm.html
- title: 'Troubleshooting Oracle Clusterware'
  url: home/11g-oce-rac/section-1---grid-infrastructure-clusterware-and-asm/troubleshooting-oracle-clusterware.html
- title: 'Troubleshoot the Oracle Cluster Registry (OCR) file'
  url: home/11g-oce-rac/section-1---grid-infrastructure-clusterware-and-asm/troubleshooting-oracle-clusterware/troubleshoot-the-oracle-cluster-registry-ocr-file.html
---
<div dir="ltr">
 <p>
  In
  <a href="http://docs.oracle.com/cd/E11882_01/rac.112/e10717/toc.htm" rel="nofollow">
   Oracle® Clusterware Administration and Deployment Guide 11g Release 2 (11.2)
  </a>
  , the section,
  <a href="http://docs.oracle.com/cd/E11882_01/rac.112/e10717/votocr.htm#BABDIEHC" rel="nofollow">
   Troubleshooting Oracle Cluster Registry and Diagnostic Output
  </a>
  , says that:
 </p>
 <blockquote>
  <p>
   This section describes various methods for troubleshooting problems with OCR, and obtaining diagnostic information from the utilities used to manage the OCR. You can use these utilities to troubleshoot OLR.
  </p>
  <p>
   …
  </p>
  <p style="font-weight:bold">
   Troubleshooting Oracle Cluster Registry
  </p>
  <p>
   <a href="http://docs.oracle.com/cd/E11882_01/rac.112/e10717/votocr.htm#BEHBAJJI" rel="nofollow">
    Table 2-5
   </a>
   describes common OCR problems with corresponding resolution suggestions.
  </p>
  <table style="border-top:thin solid;border-bottom:thin solid">
   <caption style="text-align:left">
    Table 2-5 Common Oracle Cluster Registry Problems and Solutions
   </caption>
   <thead>
    <tr>
     <th>
      Problem
     </th>
     <th>
      Solution
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      Not currently using OCR mirroring and would like to enable it.
     </td>
     <td>
      Run the
      <span style="font-family:monospace">
       ocrconfig
      </span>
      command with the
      <span style="font-family:monospace">
       -replace
      </span>
      option.
     </td>
    </tr>
    <tr>
     <td>
      OCR failed and you must replace it. Error messages in Oracle Enterprise Manager or OCR log file.
     </td>
     <td>
      Run the
      <span style="font-family:monospace">
       ocrconfig
      </span>
      command with the
      <span style="font-family:monospace">
       -replace
      </span>
      option.
     </td>
    </tr>
    <tr>
     <td>
      OCR has a misconfiguration.
     </td>
     <td>
      Run the
      <span style="font-family:monospace">
       ocrconfig
      </span>
      command with the
      <span style="font-family:monospace">
       -repair
      </span>
      option as described.
     </td>
    </tr>
    <tr>
     <td>
      You are experiencing a severe performance effect from OCR processing or you want to remove OCR for other reasons.
     </td>
     <td>
      Run the
      <span style="font-family:monospace">
       ocrconfig
      </span>
      command with the
      <span style="font-family:monospace">
       -replace
      </span>
      option as described.
     </td>
    </tr>
    <tr>
     <td>
      OCR has failed and before you can fix it, the node must be rebooted with only one OCR.
     </td>
     <td>
      Run the
      <span style="font-family:monospace">
       ocrconfig
      </span>
      with the
      <span style="font-family:monospace">
       -repair
      </span>
      option to remove the bad OCR location. Oracle Clusterware cannot start if it cannot find all OCRs defined.
     </td>
    </tr>
   </tbody>
  </table>
  <p style="font-weight:bold">
   Using the OCRCHECK Utility
  </p>
  <p>
   The OCRCHECK utility displays the version of the OCR's block format, total space available and used space, OCRID, and the OCR locations that you have configured. OCRCHECK performs a block-by-block
   <span style="font-family:monospace">
    checksum
   </span>
   operation for all of the blocks in all of the OCRs that you have configured. It also returns an individual status for each file and a result for the overall OCR integrity check.
  </p>
  <p>
   You can run the
   <span style="font-family:monospace">
    ocrcheck -help
   </span>
   command to display usage information about this utility.
  </p>
  <p>
   …
  </p>
  <p style="border-top:solid thin black;border-bottom:solid thin black">
   <span style="font-weight:bold">
    Note:
   </span>
   <br/>
   The logical corruption check is only performed if you run the
   <span style="font-family:monospace">
    ocrcheck
   </span>
   command as
   <span style="font-family:monospace">
    root
   </span>
   .
  </p>
 </blockquote>
</div>
