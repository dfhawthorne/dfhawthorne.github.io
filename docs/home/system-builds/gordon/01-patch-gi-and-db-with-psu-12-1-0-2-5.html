---
layout: default
title: '01 Patch GI and DB with PSU 12.1.0.2.5'
base-url: home/system-builds/gordon/01-patch-gi-and-db-with-psu-12-1-0-2-5.html
breadcrumbs:
- title: 'Home'
  url: home.html
- title: 'System Builds'
  url: home/system-builds.html
- title: 'GORDON'
  url: home/system-builds/gordon.html
- title: '01 Patch GI and DB with PSU 12.1.0.2.5'
  url: home/system-builds/gordon/01-patch-gi-and-db-with-psu-12-1-0-2-5.html
scroll-bar:
  left-link:
    url: home/system-builds/gordon/00-setup.html
    title: '00 Setup'
  right-link:
    url: home/system-builds/gordon/02-create-emrepos-database-using-dbca.html
    title: '02 Create EMREPOS Database Using DBCA'
table-of-contents:
- toc-url: 'Overview'
  toc-text: 'Overview'
- toc-url: 'References'
  toc-text: 'References'
- toc-url: 'Prepare-for-PSU'
  toc-text: 'Prepare for PSU'
  toc-menu:
  - toc-url: 'Download-PSU'
    toc-text: 'Download PSU'
  - toc-url: 'Check-OPATCH-Version'
    toc-text: 'Check OPATCH Version'
  - toc-url: 'Update-OPatch'
    toc-text: 'Update OPatch'
  - toc-url: 'Create-OCM-Response-File'
    toc-text: 'Create OCM Response File'
  - toc-url: 'Download-Patch'
    toc-text: 'Download Patch'
- toc-url: 'Patch-Grid-Infrastructure'
  toc-text: 'Patch Grid Infrastructure'
  toc-menu:
  - toc-url: 'GI-Patch-Conflict-Detection'
    toc-text: 'GI Patch Conflict Detection'
  - toc-url: 'Apply-GI-Patch'
    toc-text: 'Apply GI Patch'
- toc-url: 'Patch-Singleton-DB-Home'
  toc-text: 'Patch Singleton DB Home'
  toc-menu:
  - toc-url: 'Set-Up-Patching-Environment-for-Singleton-DB-Home'
    toc-text: 'Set Up Patching Environment for Singleton DB Home'
  - toc-url: 'Validate-PSU-for-Singleton-DB-Home'
    toc-text: 'Validate PSU for Singleton DB Home'
  - toc-url: 'Attempt-to-Apply-PSU-to-Singleton-DB-Home'
    toc-text: 'Attempt to Apply PSU to Singleton DB Home'
  - toc-url: 'Encountered-Bug-in-OPATCHAUTO'
    toc-text: 'Encountered Bug in OPATCHAUTO'
  - toc-url: 'Further-Investigation'
    toc-text: 'Further Investigation'
  - toc-url: 'Clean-Up-Patches'
    toc-text: 'Clean Up Patches'
- toc-url: 'Apply-DB-PSU'
  toc-text: 'Apply DB PSU'
  toc-menu:
  - toc-url: 'Check-for-Patch-Conflicts'
    toc-text: 'Check for Patch Conflicts'
  - toc-url: 'Apply-DB-Patch'
    toc-text: 'Apply DB Patch'
- toc-url: 'Apply-OJVM-PSU'
  toc-text: 'Apply OJVM PSU'
  toc-menu:
  - toc-url: 'Check-for-Conflicts-with-OJVM-PSU'
    toc-text: 'Check for Conflicts with OJVM PSU'
  - toc-url: 'Apply-OJVM-PSU---Attempt-1'
    toc-text: 'Apply OJVM PSU - Attempt #1'
  - toc-url: 'Recover-from-Failed-PSU-Apply-of-OJVM'
    toc-text: 'Recover from Failed PSU Apply of OJVM'
  - toc-url: 'Apply-OJVM-PSU---Attempt-2'
    toc-text: 'Apply OJVM PSU - Attempt #2'
- toc-url: 'Post-Installation-Steps'
  toc-text: 'Post-Installation Steps'
---
<div dir="ltr">
 <br/>
 <h2>
  <a name="TOC-Overview">
  </a>
  Overview
 </h2>
 <p>
  Now that the base software for GI and RDBMS has been loaded, PSU 12.1.0.2.5 needs to be applied.
 </p>
 <p>
  PSU 12.1.0.2.5 came out in October 2015.
 </p>
 <h2>
  <a name="TOC-References">
  </a>
  References
 </h2>
 <ul>
  <li>
   MOS Documents
  </li>
  <ul>
   <li>
    <a href="https://support.oracle.com/epmos/faces/DocContentDisplay?id=966023.1" rel="nofollow">
     How to Create an OCM Response file to Apply a Patch in Silent Mode - opatch silent (Doc ID 966023.1)
    </a>
   </li>
   <li>
    <a href="https://support.oracle.com/epmos/faces/DocContentDisplay?id=1933203.1" rel="nofollow">
     Relink Fails for make target 'jox_refresh_knlopt' with "Oracle JavaVM Component Database PSU" Patch (Doc ID 1933203.1)
    </a>
   </li>
   <li>
    <a href="https://support.oracle.com/epmos/faces/DocContentDisplay?id=2002334.1" rel="nofollow">
     Patch Fails with error code 102 :: Fatal error: Command failed for target `javavm_refresh' (Doc ID 2002334.1)
    </a>
   </li>
  </ul>
  <li>
   Patch Downloads
  </li>
  <ul>
   <li>
    <a href="https://updates.oracle.com/ARULink/PatchDetails/process_form?patch_num=6880880" rel="nofollow">
     OPatch (Patch 6880880)
    </a>
   </li>
   <li>
    <a href="https://support.oracle.com/epmos/faces/ui/patch/PatchDetail.jspx?parent=DOCUMENT&amp;sourceId=756671.1&amp;patchId=21359755" rel="nofollow">
     Patch 21359755: DATABASE PATCH SET UPDATE 12.1.0.2.5
    </a>
   </li>
   <li>
    <a href="https://support.oracle.com/epmos/faces/PatchDetail?patchId=21523260&amp;requestId=19492176" rel="nofollow">
     COMBO OF OJVM COMPONENT 12.1.0.2.5 DB PSU + GI PSU 12.1.0.2.5 (OCT2015)
    </a>
    (Patch 21523260) for Linux x86-64 for Oracle 12.1.0.2.0
   </li>
   <li>
    <a href="https://support.oracle.com/epmos/faces/ui/patch/PatchDetail.jspx?parent=DOCUMENT&amp;sourceId=756671.1&amp;patchId=21555660" rel="nofollow">
     Patch 21555660: ORACLE JAVAVM COMPONENT 12.1.0.2.5 DATABASE PSU (OCT2015)
    </a>
   </li>
  </ul>
  <li>
   Patch READMEs
  </li>
  <ul>
   <li>
    <a href="https://updates.oracle.com/Orion/Services/download?type=readme&amp;aru=19194568" rel="nofollow">
     Patch 21359755 - Database Patch Set Update 12.1.0.2.5 (Includes CPUOct2015)
    </a>
   </li>
   <li>
    <a href="https://updates.oracle.com/Orion/Services/download?type=readme&amp;aru=19492176" rel="nofollow">
     Oracle Grid Infrastructure System Patch - 21523260
    </a>
   </li>
   <li>
    <a href="https://updates.oracle.com/Orion/Services/download?type=readme&amp;aru=19361790" rel="nofollow">
     Patch 21555660 - Oracle JavaVM Component 12.1.0.2.5 Database PSU (Oct2015)
    </a>
   </li>
  </ul>
 </ul>
 <h2>
  <a name="TOC-Prepare-for-PSU">
  </a>
  Prepare for PSU
 </h2>
 <h3>
  <a name="TOC-Download-PSU">
  </a>
  Download PSU
 </h3>
 <p>
  Download the PSU from
  <a href="https://support.oracle.com/epmos/faces/PatchDetail?patchId=21523260&amp;requestId=19492176" rel="nofollow">
   COMBO OF OJVM COMPONENT 12.1.0.2.5 DB PSU + GI PSU 12.1.0.2.5 (OCT2015)
  </a>
  .
 </p>
 <h3>
  <a name="TOC-Check-OPATCH-Version">
  </a>
  Check OPATCH Version
 </h3>
 <p>
  Used the following command to get the version of
  <code>
   opatch
  </code>
  :
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">/opt/app/oracle/product/12.1.0/grid/OPatch/opatch version
</pre>
 <p>
  The output was:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">OPatch Version: 12.1.0.1.3

OPatch succeeded.
</pre>
 <p>
  Since the version is less than 12.1.0.1.7, I need to get the latest OPatch from
  <a href="https://updates.oracle.com/ARULink/PatchDetails/process_form?patch_num=6880880" rel="nofollow">
   6880880
  </a>
  .
 </p>
 <h3>
  <a name="TOC-Update-OPatch">
  </a>
  Update OPatch
 </h3>
 <p>
  The latest OPatch is downloaded from
  <a href="https://updates.oracle.com/ARULink/PatchDetails/process_form?patch_num=6880880" rel="nofollow">
   6880880
  </a>
  as
  <span style="font-family:monospace">
   /tmp/p6880880_121010_Linux-x86-64.zip
  </span>
  .
 </p>
 <p>
  The
  <a href="https://updates.oracle.com/Orion/Services/download?type=readme&amp;aru=19492176" rel="nofollow">
   Readme
  </a>
  says:
 </p>
 <blockquote>
  <p>
   The new opatch utility should be updated in all the Oracle RAC database homes and the GI home that are being patched.
  </p>
 </blockquote>
 <p>
  OPatch was updated as follows:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">unzip -o /tmp/p6880880_121010_Linux-x86-64.zip -d /opt/app/oracle/product/12.1.0/grid
unzip -o /tmp/p6880880_121010_Linux-x86-64.zip -d /opt/app/oracle/product/12.1.0/dbhome_1
</pre>
 <p>
  The OPatch version is now correct:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">OPatch Version: 12.1.0.1.10

OPatch succeeded.
</pre>
 <h3>
  <a name="TOC-Create-OCM-Response-File">
  </a>
  Create OCM Response File
 </h3>
 <p>
  The
  <a href="https://updates.oracle.com/Orion/Services/download?type=readme&amp;aru=19492176" rel="nofollow">
   Readme
  </a>
  says:
 </p>
 <blockquote>
  <p>
   The OPatch utility will prompt for your OCM (Oracle Configuration Manager) response file when it is run. You should enter a complete path of OCM response file if you already have created this in your environment.
   <span style="font-weight:bold">
    OCM response file is required and is not optional.
   </span>
  </p>
  <p style="font-weight:bold;text-align:right">
   Emphasis Mine
  </p>
 </blockquote>
 <p>
  Following the instructions in
  <a href="https://support.oracle.com/epmos/faces/DocContentDisplay?id=966023.1" rel="nofollow">
   How to Create an OCM Response file to Apply a Patch in Silent Mode - opatch silent (Doc ID 966023.1)
  </a>
  , I ran the following commands for Option #1:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">export ORACLE_HOME=/opt/app/oracle/product/12.1.0/grid
${ORACLE_HOME}/OPatch/ocm/bin/emocmrsp -no_banner -output /opt/app/oracle/software/ocm.rsp
</pre>
 <p>
  The output was:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">Provide your email address to be informed of security issues, install and
initiate Oracle Configuration Manager. Easier for you if you use your My
Oracle Support Email address/User Name.
Visit http://www.oracle.com/support/policies.html for details.
Email address/User Name: 

You have not provided an email address for notification of security issues.
Do you wish to remain uninformed of security issues ([Y]es, [N]o) [N]:  Y
The OCM configuration response file (/opt/app/oracle/software/ocm.rsp) was successfully created.
</pre>
 <h3>
  <a name="TOC-Download-Patch">
  </a>
  Download Patch
 </h3>
 <p>
  Downloaded patch from
  <a href="https://support.oracle.com/epmos/faces/PatchDetail?patchId=21523260&amp;requestId=19492176" rel="nofollow">
   here
  </a>
  into
  <span style="font-family:monospace">
   /tmp/p21523260_121020_Linux-x86-64.zip
  </span>
  .
 </p>
 <p>
  Unzipped the patch as follows:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">cd /tmp
unzip -q p21523260_121020_Linux-x86-64.zip -d .
</pre>
 <h2>
  <a name="TOC-Patch-Grid-Infrastructure">
  </a>
  Patch Grid Infrastructure
 </h2>
 <h3>
  <a name="TOC-GI-Patch-Conflict-Detection">
  </a>
  GI Patch Conflict Detection
 </h3>
 <p>
  Ran the following command to detect any patch conflicts:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">sudo /opt/app/oracle/product/12.1.0/grid/OPatch/opatchauto apply /tmp/21523260 -analyze -ocmrf /opt/app/oracle/software/ocm.rsp
</pre>
 <p>
  The result was:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">OPatch Automation Tool
Copyright (c)2014, Oracle Corporation. All rights reserved.

OPatchauto Version : 12.1.0.1.10
OUI Version        : 12.1.0.2.0
Running from       : /opt/app/oracle/product/12.1.0/grid

opatchauto log file: /opt/app/oracle/product/12.1.0/grid/cfgtoollogs/opatchauto/21523260/opatch_gi_2015-12-28_13-30-19_analyze.log

NOTE: opatchauto is running in ANALYZE mode. There will be no change to your system.


OCM RSP file has been ignored in analyze mode. 

Parameter Validation: Successful

Configuration Validation: Successful

Patch Location: /tmp/21523260
Grid Infrastructure Patch(es): 21359755 21359758 21359761 21436941 
DB Patch(es): 21359755 21359758 21555660 

Patch Validation: Successful
Grid Infrastructure home:
/opt/app/oracle/product/12.1.0/grid


Analyzing patch(es) on "/opt/app/oracle/product/12.1.0/grid" ...
Patch "/tmp/21523260/21359755" successfully analyzed on "/opt/app/oracle/product/12.1.0/grid" for apply.
Patch "/tmp/21523260/21359758" successfully analyzed on "/opt/app/oracle/product/12.1.0/grid" for apply.
Patch "/tmp/21523260/21359761" successfully analyzed on "/opt/app/oracle/product/12.1.0/grid" for apply.
Patch "/tmp/21523260/21436941" successfully analyzed on "/opt/app/oracle/product/12.1.0/grid" for apply.

Apply Summary:
Following patch(es) are successfully analyzed:
GI Home: /opt/app/oracle/product/12.1.0/grid: 21359755,21359758,21359761,21436941

opatchauto succeeded.
</pre>
 <h3>
  <a name="TOC-Apply-GI-Patch">
  </a>
  Apply GI Patch
 </h3>
 <p>
  Run the following commands to apply the GI patch:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">sudo /opt/app/oracle/product/12.1.0/grid/OPatch/opatchauto apply /tmp/21523260 -ocmrf /opt/app/oracle/software/ocm.rsp
</pre>
 <p>
  The output was:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">OPatch Automation Tool
Copyright (c)2014, Oracle Corporation. All rights reserved.

OPatchauto Version : 12.1.0.1.10
OUI Version        : 12.1.0.2.0
Running from       : /opt/app/oracle/product/12.1.0/grid

opatchauto log file: /opt/app/oracle/product/12.1.0/grid/cfgtoollogs/opatchauto/21523260/opatch_gi_2015-12-28_13-36-23_deploy.log

Parameter Validation: Successful

Configuration Validation: Successful

Patch Location: /tmp/21523260
Grid Infrastructure Patch(es): 21359755 21359758 21359761 21436941 
DB Patch(es): 21359755 21359758 21555660 

Patch Validation: Successful
Grid Infrastructure home:
/opt/app/oracle/product/12.1.0/grid


Performing prepatch operations on SIHA Home... Successful

Applying patch(es) to "/opt/app/oracle/product/12.1.0/grid" ...
Patch "/tmp/21523260/21359755" successfully applied to "/opt/app/oracle/product/12.1.0/grid".
Patch "/tmp/21523260/21359758" successfully applied to "/opt/app/oracle/product/12.1.0/grid".
Patch "/tmp/21523260/21359761" successfully applied to "/opt/app/oracle/product/12.1.0/grid".
Patch "/tmp/21523260/21436941" successfully applied to "/opt/app/oracle/product/12.1.0/grid".

Performing postpatch operations on SIHA Home... Successful

Apply Summary:
Following patch(es) are successfully installed:
GI Home: /opt/app/oracle/product/12.1.0/grid: 21359755,21359758,21359761,21436941

opatchauto succeeded.
</pre>
 <h2>
  <a name="TOC-Patch-Singleton-DB-Home">
  </a>
  Patch Singleton DB Home
 </h2>
 <h3>
  <a name="TOC-Set-Up-Patching-Environment-for-Singleton-DB-Home">
  </a>
  Set Up Patching Environment for Singleton DB Home
 </h3>
 <p>
  Since the RDBMS home is not a RAC home, the PSU has to be applied separately. The following commands are used to set up the environment:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">sudo su --login
export ORACLE_HOME=/opt/app/oracle/product/12.1.0/dbhome_1
export PATH=${ORACLE_HOME}/OPatch:${PATH}
</pre>
 <h3>
  <a name="TOC-Validate-PSU-for-Singleton-DB-Home">
  </a>
  Validate PSU for Singleton DB Home
 </h3>
 <p>
  Make sure the patch is valid:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">opatchauto apply /tmp/21523260 -oh ${ORACLE_HOME} -ocmrf /opt/app/oracle/software/ocm.rsp -analyze
</pre>
 <p>
  The output was:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">OPatch Automation Tool
Copyright (c)2014, Oracle Corporation. All rights reserved.

OPatchauto Version : 12.1.0.1.10
OUI Version        : 12.1.0.2.0
Running from       : /opt/app/oracle/product/12.1.0/dbhome_1

opatchauto log file: /opt/app/oracle/product/12.1.0/grid/cfgtoollogs/opatchauto/21523260/opatch_gi_2015-12-28_19-56-16_analyze.log

NOTE: opatchauto is running in ANALYZE mode. There will be no change to your system.


OCM RSP file has been ignored in analyze mode. 

Parameter Validation: Successful

Configuration Validation: Successful

Patch Location: /tmp/21523260
Grid Infrastructure Patch(es): 21359755 21359758 21359761 21436941 
DB Patch(es): 21359755 21359758 21555660 

Patch Validation: Successful
User specified the following DB home(s) for this session:
/opt/app/oracle/product/12.1.0/dbhome_1


Analyzing patch(es) on "/opt/app/oracle/product/12.1.0/dbhome_1" ...
Patch "/tmp/21523260/21359755" successfully analyzed on "/opt/app/oracle/product/12.1.0/dbhome_1" for apply.
Patch "/tmp/21523260/21359758" successfully analyzed on "/opt/app/oracle/product/12.1.0/dbhome_1" for apply.
Patch "/tmp/21523260/21555660" successfully analyzed on "/opt/app/oracle/product/12.1.0/dbhome_1" for apply.

[WARNING] The local database(s) on "/opt/app/oracle/product/12.1.0/dbhome_1" is not running. SQL changes, if any, cannot be analyzed.

Apply Summary:
Following patch(es) are successfully analyzed:
DB Home: /opt/app/oracle/product/12.1.0/dbhome_1: 21359755,21359758,21555660

opatchauto succeeded.
</pre>
 <h3>
  <a name="TOC-Attempt-to-Apply-PSU-to-Singleton-DB-Home">
  </a>
  Attempt to Apply PSU to Singleton DB Home
 </h3>
 <p>
  Apply the patch as follows:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">sudo su --login
export ORACLE_HOME=/opt/app/oracle/product/12.1.0/dbhome_1
export PATH=${ORACLE_HOME}/OPatch:${PATH}
opatchauto apply /tmp/21523260 -oh ${ORACLE_HOME} -ocmrf /opt/app/oracle/software/ocm.rsp
</pre>
 <p>
  The output is:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">OPatch Automation Tool
Copyright (c)2014, Oracle Corporation. All rights reserved.

OPatchauto Version : 12.1.0.1.10
OUI Version        : 12.1.0.2.0
Running from       : /opt/app/oracle/product/12.1.0/dbhome_1

opatchauto log file: /opt/app/oracle/product/12.1.0/grid/cfgtoollogs/opatchauto/21523260/opatch_gi_2015-12-28_20-01-07_deploy.log

Parameter Validation: Successful

Configuration Validation: Successful

Patch Location: /tmp/21523260
Grid Infrastructure Patch(es): 21359755 21359758 21359761 21436941 
DB Patch(es): 21359755 21359758 21555660 

Patch Validation: Successful
User specified the following DB home(s) for this session:
/opt/app/oracle/product/12.1.0/dbhome_1


Performing prepatch operations on RAC Home (/opt/app/oracle/product/12.1.0/dbhome_1) ... Successful

Applying patch(es) to "/opt/app/oracle/product/12.1.0/dbhome_1" ...
Command "/opt/app/oracle/product/12.1.0/dbhome_1/OPatch/opatch napply -phBaseFile /tmp/OraDB12Home1_oracle_patchList -local  -invPtrLoc /opt/app/oracle/product/12.1.0/dbhome_1/oraInst.loc -oh /opt/app/oracle/product/12.1.0/dbhome_1 -silent -ocmrf /opt/app/oracle/software/ocm.rsp" execution failed: 
OPatch failed to restore OH '/opt/app/oracle/product/12.1.0/dbhome_1'. Consult OPatch document to restore the home manually before proceeding.
UtilSession failed: Re-link fails on target "javavm_refresh ioracle".

Log file Location for the failed command: /opt/app/oracle/product/12.1.0/dbhome_1/cfgtoollogs/opatch/opatch2015-12-28_20-01-34PM_1.log

For more details, please refer to the log file "/opt/app/oracle/product/12.1.0/grid/cfgtoollogs/opatchauto/21523260/opatch_gi_2015-12-28_20-01-07_deploy.debug.log".

Apply Summary:
Following patch(es) are successfully installed:
DB Home: /opt/app/oracle/product/12.1.0/dbhome_1:

Following patch(es) failed to be installed:
DB Home: /opt/app/oracle/product/12.1.0/dbhome_1: 21359755,21359758,21555660
Command failure exception

opatchauto failed with error code 2.
</pre>
 <h3>
  <a name="TOC-Encountered-Bug-in-OPATCHAUTO">
  </a>
  Encountered Bug in OPATCHAUTO
 </h3>
 <p>
  It would appear that I had hit the bug described in MOS Doc ID
  <a href="https://support.oracle.com/epmos/faces/DocContentDisplay?id=2002334.1" rel="nofollow">
   2002334.1
  </a>
  .
 </p>
 <p>
  The solution is to set up the environment as follows, and reapply the PSU:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">sudo su --login
export ORACLE_HOME=/opt/app/oracle/product/12.1.0/dbhome_1
export PATH=${ORACLE_HOME}/OPatch:${PATH}
export PERL5LIB=${ORACLE_HOME}/perl/lib # MOS Doc ID 2002334.1
opatchauto apply /tmp/21523260 -oh ${ORACLE_HOME} -ocmrf /opt/app/oracle/software/ocm.rsp
</pre>
 <p>
  This also failed:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">OPatch Automation Tool
Copyright (c)2014, Oracle Corporation. All rights reserved.

OPatchauto Version : 12.1.0.1.10
OUI Version        : 12.1.0.2.0
Running from       : /opt/app/oracle/product/12.1.0/dbhome_1

opatchauto log file: /opt/app/oracle/product/12.1.0/grid/cfgtoollogs/opatchauto/21523260/opatch_gi_2015-12-29_13-05-54_deploy.log

Parameter Validation: Successful

Configuration Validation: Successful

Patch Location: /tmp/21523260
Grid Infrastructure Patch(es): 21359755 21359758 21359761 21436941 
DB Patch(es): 21359755 21359758 21555660 

Patch Validation: Successful
User specified the following DB home(s) for this session:
/opt/app/oracle/product/12.1.0/dbhome_1


Performing prepatch operations on RAC Home (/opt/app/oracle/product/12.1.0/dbhome_1) ... Successful

Applying patch(es) to "/opt/app/oracle/product/12.1.0/dbhome_1" ...
Command "/opt/app/oracle/product/12.1.0/dbhome_1/OPatch/opatch napply -phBaseFile /tmp/OraDB12Home1_oracle_patchList -local  -invPtrLoc /opt/app/oracle/product/12.1.0/dbhome_1/oraInst.loc -oh /opt/app/oracle/product/12.1.0/dbhome_1 -silent -ocmrf /opt/app/oracle/software/ocm.rsp" execution failed: 
OPatch failed to restore OH '/opt/app/oracle/product/12.1.0/dbhome_1'. Consult OPatch document to restore the home manually before proceeding.
UtilSession failed: Re-link fails on target "javavm_refresh ioracle".

Log file Location for the failed command: /opt/app/oracle/product/12.1.0/dbhome_1/cfgtoollogs/opatch/opatch2015-12-29_13-06-28PM_1.log

For more details, please refer to the log file "/opt/app/oracle/product/12.1.0/grid/cfgtoollogs/opatchauto/21523260/opatch_gi_2015-12-29_13-05-54_deploy.debug.log".

Apply Summary:
Following patch(es) are successfully installed:
DB Home: /opt/app/oracle/product/12.1.0/dbhome_1:

Following patch(es) failed to be installed:
DB Home: /opt/app/oracle/product/12.1.0/dbhome_1: 21359755,21359758,21555660
Command failure exception

opatchauto failed with error code 2.
</pre>
 <h3>
  <a name="TOC-Further-Investigation">
  </a>
  Further Investigation
 </h3>
 <p>
  MOS Doc ID
  <a href="https://support.oracle.com/epmos/faces/DocContentDisplay?id=1933203.1" rel="nofollow">
   1933203.1
  </a>
  suggests the cause could be:
 </p>
 <blockquote>
  <p>
   A relink error relating to target "
   <span style="font-weight:bold">
    jox_refresh_knlopt
   </span>
   " typically implies a mismatch of patch levels involving an OJVM PSU patch:
  </p>
  <ul>
   <li>
    OJVM PSU patches require that the database home is already patched to at least October 2014 Database PSU (
    <span style="font-style:italic">
     or equivalent Security Patch Update (SPU) or Database Patch for Exadata for installations using these other patching models
    </span>
    ).
   </li>
  </ul>
  <p style="font-weight:bold;text-align:right">
   Emphasis in original
  </p>
 </blockquote>
 <p>
  The recommended solution is to apply:
 </p>
 <ol>
  <li>
   <a href="https://support.oracle.com/epmos/faces/ui/patch/PatchDetail.jspx?parent=DOCUMENT&amp;sourceId=756671.1&amp;patchId=21359755" rel="nofollow">
    Patch 21359755: DATABASE PATCH SET UPDATE 12.1.0.2.5
   </a>
  </li>
  <li>
   <a href="https://support.oracle.com/epmos/faces/ui/patch/PatchDetail.jspx?parent=DOCUMENT&amp;sourceId=756671.1&amp;patchId=21555660" rel="nofollow">
    Patch 21555660: ORACLE JAVAVM COMPONENT 12.1.0.2.5 DATABASE PSU (OCT2015)
   </a>
  </li>
  <li>
   Post-installation for DB Patch
  </li>
 </ol>
 <h3>
  <a name="TOC-Clean-Up-Patches">
  </a>
  Clean Up Patches
 </h3>
 <p>
  As I now have three (3) patches to manage, I decided to create a special patch directory,
  <span style="font-family:monospace">
   /opt/app/oracle/software/patches
  </span>
  , and move the patches there:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">mkdir -p /opt/app/oracle/software/patches/P21523260
mv /tmp/21523260 /opt/app/oracle/software/patches/P21523260
mv /tmp/PatchSearch.xml /opt/app/oracle/software/patches/P21523260
mkdir -p /opt/app/oracle/software/patches/P21359755 /opt/app/oracle/software/patches/P21555660
</pre>
 <p>
  The patches were downloaded in
  <span style="font-family:monospace">
   /tmp
  </span>
  , and then unpacked into the appropriate patch directory as follows:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">unzip -q /tmp/p21359755_121020_Linux-x86-64.zip -d /opt/app/oracle/software/patches/P21359755
unzip -q /tmp/p21555660_121020_Linux-x86-64.zip -d /opt/app/oracle/software/patches/P21555660
</pre>
 <h2>
  <a name="TOC-Apply-DB-PSU">
  </a>
  Apply DB PSU
 </h2>
 <p>
  Followed the procedure in
  <a href="https://updates.oracle.com/Orion/Services/download?type=readme&amp;aru=19194568" rel="nofollow">
   Patch 21359755 - Database Patch Set Update 12.1.0.2.5 (Includes CPUOct2015)
  </a>
  .
 </p>
 <h3>
  <a name="TOC-Check-for-Patch-Conflicts">
  </a>
  Check for Patch Conflicts
 </h3>
 <p>
  Ran the following command as the
  <span style="font-family:monospace">
   oracle
  </span>
  user in order to detect any patch conflicts:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">opatch prereq CheckConflictAgainstOHWithDetail -ph /opt/app/oracle/software/patches/P21359755/21359755/
</pre>
 <p>
  The output was:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">Oracle Interim Patch Installer version 12.1.0.1.10
Copyright (c) 2015, Oracle Corporation.  All rights reserved.

PREREQ session

Oracle Home       : /opt/app/oracle/product/12.1.0/dbhome_1
Central Inventory : /opt/app/oraInventory
   from           : /opt/app/oracle/product/12.1.0/dbhome_1/oraInst.loc
OPatch version    : 12.1.0.1.10
OUI version       : 12.1.0.2.0
Log file location : /opt/app/oracle/product/12.1.0/dbhome_1/cfgtoollogs/opatch/opatch2015-12-29_19-47-07PM_1.log

Invoking prereq "checkconflictagainstohwithdetail"

Prereq "checkConflictAgainstOHWithDetail" passed.

OPatch succeeded.
</pre>
 <h3>
  <a name="TOC-Apply-DB-Patch">
  </a>
  Apply DB Patch
 </h3>
 <p>
  Ran the following command as the
  <span style="font-family:monospace">
   oracle
  </span>
  user to apply the DB PSU:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">opatch apply -ocmrf /opt/app/oracle/software/ocm.rsp /opt/app/oracle/software/patches/P21359755/21359755/
</pre>
 <p>
  The output was:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">Oracle Interim Patch Installer version 12.1.0.1.10
Copyright (c) 2015, Oracle Corporation.  All rights reserved.


Oracle Home       : /opt/app/oracle/product/12.1.0/dbhome_1
Central Inventory : /opt/app/oraInventory
   from           : /opt/app/oracle/product/12.1.0/dbhome_1/oraInst.loc
OPatch version    : 12.1.0.1.10
OUI version       : 12.1.0.2.0
Log file location : /opt/app/oracle/product/12.1.0/dbhome_1/cfgtoollogs/opatch/opatch2015-12-29_19-54-09PM_1.log

Verifying environment and performing prerequisite checks...
OPatch continues with these patches:   19769480  20299023  20831110  21359755  

Do you want to proceed? [y|n]
y
User Responded with: Y
All checks passed.

Please shutdown Oracle instances running out of this ORACLE_HOME on the local system.
(Oracle Home = '/opt/app/oracle/product/12.1.0/dbhome_1')


Is the local system ready for patching? [y|n]
y
User Responded with: Y
Backing up files...
Applying sub-patch '19769480' to OH '/opt/app/oracle/product/12.1.0/dbhome_1'

Patching component oracle.rdbms.deconfig, 12.1.0.2.0...

Patching component oracle.xdk, 12.1.0.2.0...

Patching component oracle.tfa, 12.1.0.2.0...

Patching component oracle.rdbms.util, 12.1.0.2.0...

Patching component oracle.rdbms, 12.1.0.2.0...

Patching component oracle.rdbms.dbscripts, 12.1.0.2.0...

Patching component oracle.xdk.parser.java, 12.1.0.2.0...

Patching component oracle.oraolap, 12.1.0.2.0...

Patching component oracle.xdk.rsf, 12.1.0.2.0...

Patching component oracle.rdbms.rsf, 12.1.0.2.0...

Patching component oracle.rdbms.rman, 12.1.0.2.0...

Patching component oracle.ldap.rsf, 12.1.0.2.0...

Patching component oracle.ldap.rsf.ic, 12.1.0.2.0...
Applying sub-patch '20299023' to OH '/opt/app/oracle/product/12.1.0/dbhome_1'
ApplySession: Optional component(s) [ oracle.has.crs, 12.1.0.2.0 ]  not present in the Oracle Home or a higher version is found.

Patching component oracle.tfa, 12.1.0.2.0...

Patching component oracle.rdbms.deconfig, 12.1.0.2.0...

Patching component oracle.rdbms.rsf, 12.1.0.2.0...

Patching component oracle.rdbms, 12.1.0.2.0...

Patching component oracle.rdbms.dbscripts, 12.1.0.2.0...

Patching component oracle.rdbms.rsf.ic, 12.1.0.2.0...

Patching component oracle.ldap.rsf, 12.1.0.2.0...

Patching component oracle.ldap.rsf.ic, 12.1.0.2.0...
Applying sub-patch '20831110' to OH '/opt/app/oracle/product/12.1.0/dbhome_1'

Patching component oracle.rdbms, 12.1.0.2.0...

Patching component oracle.oraolap.dbscripts, 12.1.0.2.0...

Patching component oracle.ldap.rsf, 12.1.0.2.0...

Patching component oracle.tfa, 12.1.0.2.0...

Patching component oracle.rdbms.dbscripts, 12.1.0.2.0...

Patching component oracle.rdbms.rsf, 12.1.0.2.0...
Applying sub-patch '21359755' to OH '/opt/app/oracle/product/12.1.0/dbhome_1'

Patching component oracle.assistants.server, 12.1.0.2.0...

Patching component oracle.rdbms.rsf, 12.1.0.2.0...

Patching component oracle.rdbms, 12.1.0.2.0...

Patching component oracle.rdbms.dbscripts, 12.1.0.2.0...

Patching component oracle.tfa, 12.1.0.2.0...
Composite patch 21359755 successfully applied.
Log file location: /opt/app/oracle/product/12.1.0/dbhome_1/cfgtoollogs/opatch/opatch2015-12-29_19-54-09PM_1.log

OPatch succeeded.
</pre>
 <h2>
  <a name="TOC-Apply-OJVM-PSU">
  </a>
  Apply OJVM PSU
 </h2>
 <p>
  Followed the procedure in
  <a href="https://support.oracle.com/epmos/faces/ui/patch/PatchDetail.jspx?parent=DOCUMENT&amp;sourceId=756671.1&amp;patchId=21555660" rel="nofollow">
   Patch 21555660: ORACLE JAVAVM COMPONENT 12.1.0.2.5 DATABASE PSU (OCT2015)
  </a>
  .
 </p>
 <h3>
  <a name="TOC-Check-for-Conflicts-with-OJVM-PSU">
  </a>
  Check for Conflicts with OJVM PSU
 </h3>
 <p>
  Ran the following command as the
  <span style="font-family:monospace">
   oracle
  </span>
  user in order to detect any patch conflicts:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">opatch prereq CheckConflictAgainstOHWithDetail -ph /opt/app/oracle/software/patches/P21555660/21555660/
</pre>
 <p>
  The output was:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">Oracle Interim Patch Installer version 12.1.0.1.10
Copyright (c) 2015, Oracle Corporation.  All rights reserved.

PREREQ session

Oracle Home       : /opt/app/oracle/product/12.1.0/dbhome_1
Central Inventory : /opt/app/oraInventory
   from           : /opt/app/oracle/product/12.1.0/dbhome_1/oraInst.loc
OPatch version    : 12.1.0.1.10
OUI version       : 12.1.0.2.0
Log file location : /opt/app/oracle/product/12.1.0/dbhome_1/cfgtoollogs/opatch/opatch2015-12-29_20-32-50PM_1.log

Invoking prereq "checkconflictagainstohwithdetail"

Prereq "checkConflictAgainstOHWithDetail" passed.

OPatch succeeded.
</pre>
 <h3>
  <a name="TOC-Apply-OJVM-PSU---Attempt-1">
  </a>
  Apply OJVM PSU - Attempt #1
 </h3>
 <p>
  Ran the following command as the
  <span style="font-family:monospace">
   oracle
  </span>
  user in order to apply the OJVM PSU:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">opatch apply -ocmrf /opt/app/oracle/software/ocm.rsp -silent /opt/app/oracle/software/patches/P21555660/21555660/
</pre>
 <p>
  This failed as can be seen in the following output:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">Oracle Interim Patch Installer version 12.1.0.1.10
Copyright (c) 2015, Oracle Corporation.  All rights reserved.


Oracle Home       : /opt/app/oracle/product/12.1.0/dbhome_1
Central Inventory : /opt/app/oraInventory
   from           : /opt/app/oracle/product/12.1.0/dbhome_1/oraInst.loc
OPatch version    : 12.1.0.1.10
OUI version       : 12.1.0.2.0
Log file location : /opt/app/oracle/product/12.1.0/dbhome_1/cfgtoollogs/opatch/opatch2015-12-29_20-33-44PM_1.log

Verifying environment and performing prerequisite checks...
OPatch continues with these patches:   21555660  

Do you want to proceed? [y|n]
Y (auto-answered by -silent)
User Responded with: Y
All checks passed.

Please shutdown Oracle instances running out of this ORACLE_HOME on the local system.
(Oracle Home = '/opt/app/oracle/product/12.1.0/dbhome_1')


Is the local system ready for patching? [y|n]
Y (auto-answered by -silent)
User Responded with: Y
Backing up files...
Applying interim patch '21555660' to OH '/opt/app/oracle/product/12.1.0/dbhome_1'
ApplySession: Optional component(s) [ oracle.sqlj, 12.1.0.2.0 ]  not present in the Oracle Home or a higher version is found.

Patching component oracle.rdbms.dbscripts, 12.1.0.2.0...

Patching component oracle.javavm.client, 12.1.0.2.0...

Patching component oracle.rdbms, 12.1.0.2.0...

Patching component oracle.javavm.server.core, 12.1.0.2.0...

Patching component oracle.javavm.server, 12.1.0.2.0...

--------------------------------------------------------------------------------
***************************************************************************************************
***************************************************************************************************
**                                ATTENTION                                                      **
**                                                                                               **
** It is critical and essential to complete the post installation (if you applying the patch) or **
** post deinstallation (if you are doing rollback of the patch) as per Readme to have a working  **
** and functional Oracle JavaVM Component.                                                       **
** Failure to follow the instructions could lead to inconsistencies in the database.             **
**                                                                                               **
***************************************************************************************************
***************************************************************************************************

--------------------------------------------------------------------------------

Make failed to invoke "/usr/bin/make -f ins_rdbms.mk javavm_refresh ioracle ORACLE_HOME=/opt/app/oracle/product/12.1.0/dbhome_1"....'make: perl: Command not found
make: *** [javavm_refresh] Error 127
'

The following make actions have failed :

Re-link fails on target "javavm_refresh ioracle".


Do you want to proceed? [y|n]
N (auto-answered by -silent)
User Responded with: N

Restoring "/opt/app/oracle/product/12.1.0/dbhome_1" to the state prior to running NApply...
Checking if OPatch needs to invoke 'make' to restore some binaries...
Make failed to invoke "/usr/bin/make -f ins_rdbms.mk javavm_refresh ioracle ORACLE_HOME=/opt/app/oracle/product/12.1.0/dbhome_1"....'make: perl: Command not found
make: *** [javavm_refresh] Error 127
'

--------------------------------------------------------------------------------
Failed to run make commands. Please contact Oracle Support.
OPatch failed to restore OH '/opt/app/oracle/product/12.1.0/dbhome_1'. Consult OPatch document to restore the home manually before proceeding.

NApply was not able to restore the home.  Please invoke the following scripts:
  - restore.[sh,bat]
  - make.txt (Unix only)
to restore the ORACLE_HOME.  They are located under 
"/opt/app/oracle/product/12.1.0/dbhome_1/.patch_storage/NApply/2015-12-29_20-33-44PM"

UtilSession failed: Re-link fails on target "javavm_refresh ioracle".

Log file location: /opt/app/oracle/product/12.1.0/dbhome_1/cfgtoollogs/opatch/opatch2015-12-29_20-33-44PM_1.log

OPatch failed with error code 73
</pre>
 <h3>
  <a name="TOC-Recover-from-Failed-PSU-Apply-of-OJVM">
  </a>
  Recover from Failed PSU Apply of OJVM
 </h3>
 <p>
  As instructed by the previous output, I ran the following commands:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">cd /opt/app/oracle/product/12.1.0/dbhome_1/.patch_storage/NApply/2015-12-29_20-33-44PM
./restore.sh
</pre>
 <p>
  The output was:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">This script is going to restore the Oracle Home to the previous state.
It does not perform any of the following:
- Running init/pre/post scripts
- Oracle binary re-link
- Customized steps performed manually by user
Please use this script with supervision from Oracle Technical Support.
About to modify Oracle Home( /opt/app/oracle/product/12.1.0/dbhome_1 )
Do you want to proceed? [Y/N]
y
User responded with : Y
Restore script completed.
</pre>
 <p>
  After some trial and error, I successfully used the following commands to re-link the Oracle kernel:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">export PERL5LIB=${ORACLE_HOME}/perl/lib
export PATH=${ORACLE_HOME}/perl/bin:${PATH}
sh make.txt 
</pre>
 <p>
  The output was:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">perl /opt/app/oracle/product/12.1.0/dbhome_1/javavm/install/update_javavm_binaries.pl -refresh
chmod 755 /opt/app/oracle/product/12.1.0/dbhome_1/bin

 - Linking Oracle 
rm -f /opt/app/oracle/product/12.1.0/dbhome_1/rdbms/lib/oracle
/opt/app/oracle/product/12.1.0/dbhome_1/bin/orald  -o /opt/app/oracle/product/12.1.0/dbhome_1/rdbms/lib/oracle -m64 -z noexecstack -Wl,--disable-new-dtags -L/opt/app/oracle/product/12.1.0/dbhome_1/rdbms/lib/ -L/opt/app/oracle/product/12.1.0/dbhome_1/lib/ -L/opt/app/oracle/product/12.1.0/dbhome_1/lib/stubs/   -Wl,-E /opt/app/oracle/product/12.1.0/dbhome_1/rdbms/lib/opimai.o /opt/app/oracle/product/12.1.0/dbhome_1/rdbms/lib/ssoraed.o /opt/app/oracle/product/12.1.0/dbhome_1/rdbms/lib/ttcsoi.o -Wl,--whole-archive -lperfsrv12 -Wl,--no-whole-archive /opt/app/oracle/product/12.1.0/dbhome_1/lib/nautab.o /opt/app/oracle/product/12.1.0/dbhome_1/lib/naeet.o /opt/app/oracle/product/12.1.0/dbhome_1/lib/naect.o /opt/app/oracle/product/12.1.0/dbhome_1/lib/naedhs.o /opt/app/oracle/product/12.1.0/dbhome_1/rdbms/lib/config.o  -lserver12 -lodm12 -lcell12 -lnnet12 -lskgxp12 -lsnls12 -lnls12  -lcore12 -lsnls12 -lnls12 -lcore12 -lsnls12 -lnls12 -lxml12 -lcore12 -lunls12 -lsnls12 -lnls12 -lcore12 -lnls12 -lclient12  -lvsn12 -lcommon12 -lgeneric12 -lknlopt `if /usr/bin/ar tv /opt/app/oracle/product/12.1.0/dbhome_1/rdbms/lib/libknlopt.a | grep xsyeolap.o &gt; /dev/null 2&gt;&amp;1 ; then echo "-loraolap12" ; fi` -lskjcx12 -lslax12 -lpls12  -lrt -lplp12 -lserver12 -lclient12  -lvsn12 -lcommon12 -lgeneric12 `if [ -f /opt/app/oracle/product/12.1.0/dbhome_1/lib/libavserver12.a ] ; then echo "-lavserver12" ; else echo "-lavstub12"; fi` `if [ -f /opt/app/oracle/product/12.1.0/dbhome_1/lib/libavclient12.a ] ; then echo "-lavclient12" ; fi` -lknlopt -lslax12 -lpls12  -lrt -lplp12 -ljavavm12 -lserver12  -lwwg  `cat /opt/app/oracle/product/12.1.0/dbhome_1/lib/ldflags`    -lncrypt12 -lnsgr12 -lnzjs12 -ln12 -lnl12 -lnro12 `cat /opt/app/oracle/product/12.1.0/dbhome_1/lib/ldflags`    -lncrypt12 -lnsgr12 -lnzjs12 -ln12 -lnl12 -lnnzst12 -lzt12 -lztkg12 -lmm -lsnls12 -lnls12  -lcore12 -lsnls12 -lnls12 -lcore12 -lsnls12 -lnls12 -lxml12 -lcore12 -lunls12 -lsnls12 -lnls12 -lcore12 -lnls12 -lztkg12 `cat /opt/app/oracle/product/12.1.0/dbhome_1/lib/ldflags`    -lncrypt12 -lnsgr12 -lnzjs12 -ln12 -lnl12 -lnro12 `cat /opt/app/oracle/product/12.1.0/dbhome_1/lib/ldflags`    -lncrypt12 -lnsgr12 -lnzjs12 -ln12 -lnl12 -lnnzst12 -lzt12 -lztkg12   -lsnls12 -lnls12  -lcore12 -lsnls12 -lnls12 -lcore12 -lsnls12 -lnls12 -lxml12 -lcore12 -lunls12 -lsnls12 -lnls12 -lcore12 -lnls12 `if /usr/bin/ar tv /opt/app/oracle/product/12.1.0/dbhome_1/rdbms/lib/libknlopt.a | grep "kxmnsd.o" &gt; /dev/null 2&gt;&amp;1 ; then echo " " ; else echo "-lordsdo12 -lserver12"; fi` -L/opt/app/oracle/product/12.1.0/dbhome_1/ctx/lib/ -lctxc12 -lctx12 -lzx12 -lgx12 -lctx12 -lzx12 -lgx12 -lordimt12 -lclsra12 -ldbcfg12 -lhasgen12 -lskgxn2 -lnnzst12 -lzt12 -lxml12 -locr12 -locrb12 -locrutl12 -lhasgen12 -lskgxn2 -lnnzst12 -lzt12 -lxml12  -lgeneric12 -loraz -llzopro -lorabz2 -lipp_z -lipp_bz2 -lippdcemerged -lippsemerged -lippdcmerged  -lippsmerged -lippcore  -lippcpemerged -lippcpmerged  -lsnls12 -lnls12  -lcore12 -lsnls12 -lnls12 -lcore12 -lsnls12 -lnls12 -lxml12 -lcore12 -lunls12 -lsnls12 -lnls12 -lcore12 -lnls12 -lsnls12 -lunls12  -lsnls12 -lnls12  -lcore12 -lsnls12 -lnls12 -lcore12 -lsnls12 -lnls12 -lxml12 -lcore12 -lunls12 -lsnls12 -lnls12 -lcore12 -lnls12 -lasmclnt12 -lcommon12 -lcore12  -laio -lons    `cat /opt/app/oracle/product/12.1.0/dbhome_1/lib/sysliblist` -Wl,-rpath,/opt/app/oracle/product/12.1.0/dbhome_1/lib -lm    `cat /opt/app/oracle/product/12.1.0/dbhome_1/lib/sysliblist` -ldl -lm   -L/opt/app/oracle/product/12.1.0/dbhome_1/lib
test ! -f /opt/app/oracle/product/12.1.0/dbhome_1/bin/oracle ||\
   mv -f /opt/app/oracle/product/12.1.0/dbhome_1/bin/oracle /opt/app/oracle/product/12.1.0/dbhome_1/bin/oracleO
mv /opt/app/oracle/product/12.1.0/dbhome_1/rdbms/lib/oracle /opt/app/oracle/product/12.1.0/dbhome_1/bin/oracle
chmod 6751 /opt/app/oracle/product/12.1.0/dbhome_1/bin/oracle
</pre>
 <h3>
  <a name="TOC-Apply-OJVM-PSU---Attempt-2">
  </a>
  Apply OJVM PSU - Attempt #2
 </h3>
 <p>
  Ran the following commands as the
  <span style="font-family:monospace">
   oracle
  </span>
  user in order to apply the OJVM PSU:
 </p>
 <pre style="background-color:Lawngreen;border:5px groove black;margin-left:10px">export ORACLE_HOME=/opt/app/oracle/product/12.1.0/dbhome_1
export PERL5LIB=${ORACLE_HOME}/perl/lib
export PATH=${ORACLE_HOME}/perl/bin:${PATH}
opatch apply -ocmrf /opt/app/oracle/software/ocm.rsp -silent /opt/app/oracle/software/patches/P21555660/21555660/
</pre>
 <p>
  This succeeded as can be seen in the following output:
 </p>
 <pre style="background-color:aqua;border:5px groove black;margin-left:10px">Oracle Interim Patch Installer version 12.1.0.1.10
Copyright (c) 2015, Oracle Corporation.  All rights reserved.


Oracle Home       : /opt/app/oracle/product/12.1.0/dbhome_1
Central Inventory : /opt/app/oraInventory
   from           : /opt/app/oracle/product/12.1.0/dbhome_1/oraInst.loc
OPatch version    : 12.1.0.1.10
OUI version       : 12.1.0.2.0
Log file location : /opt/app/oracle/product/12.1.0/dbhome_1/cfgtoollogs/opatch/opatch2015-12-29_20-40-29PM_1.log

Verifying environment and performing prerequisite checks...
OPatch continues with these patches:   21555660  

Do you want to proceed? [y|n]
Y (auto-answered by -silent)
User Responded with: Y
All checks passed.

Please shutdown Oracle instances running out of this ORACLE_HOME on the local system.
(Oracle Home = '/opt/app/oracle/product/12.1.0/dbhome_1')


Is the local system ready for patching? [y|n]
Y (auto-answered by -silent)
User Responded with: Y
Backing up files...
Applying interim patch '21555660' to OH '/opt/app/oracle/product/12.1.0/dbhome_1'
ApplySession: Optional component(s) [ oracle.sqlj, 12.1.0.2.0 ]  not present in the Oracle Home or a higher version is found.

Patching component oracle.rdbms.dbscripts, 12.1.0.2.0...

Patching component oracle.javavm.client, 12.1.0.2.0...

Patching component oracle.rdbms, 12.1.0.2.0...

Patching component oracle.javavm.server.core, 12.1.0.2.0...

Patching component oracle.javavm.server, 12.1.0.2.0...

--------------------------------------------------------------------------------
***************************************************************************************************
***************************************************************************************************
**                                ATTENTION                                                      **
**                                                                                               **
** It is critical and essential to complete the post installation (if you applying the patch) or **
** post deinstallation (if you are doing rollback of the patch) as per Readme to have a working  **
** and functional Oracle JavaVM Component.                                                       **
** Failure to follow the instructions could lead to inconsistencies in the database.             **
**                                                                                               **
***************************************************************************************************
***************************************************************************************************

--------------------------------------------------------------------------------

Patch 21555660 successfully applied.
Log file location: /opt/app/oracle/product/12.1.0/dbhome_1/cfgtoollogs/opatch/opatch2015-12-29_20-40-29PM_1.log

OPatch succeeded.
</pre>
 <h2>
  <a name="TOC-Post-Installation-Steps">
  </a>
  Post-Installation Steps
 </h2>
 <p>
  Since no databases have been created yet, there is no need to run the data patches.
 </p>
</div>
