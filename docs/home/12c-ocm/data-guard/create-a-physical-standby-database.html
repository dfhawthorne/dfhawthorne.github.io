---
layout: default
title: 'Create a physical standby database'
base-url: home/12c-ocm/data-guard/create-a-physical-standby-database.html
breadcrumbs:
- title: 'Home'
  url: home.html
- title: '12C OCM'
  url: home/12c-ocm.html
- title: 'Data Guard'
  url: home/12c-ocm/data-guard.html
- title: 'Create a physical standby database'
  url: home/12c-ocm/data-guard/create-a-physical-standby-database.html
table-of-contents:
- toc-url: 'Summary'
  toc-text: 'Summary'
- toc-url: 'References'
  toc-text: 'References'
  toc-menu:
  - toc-url: 'Linux-Documentation'
    toc-text: 'Linux Documentation'
  - toc-url: 'Oracle-Manuals'
    toc-text: 'Oracle Manuals'
- toc-url: 'Preparation'
  toc-text: 'Preparation'
  toc-menu:
  - toc-url: 'Create-Database'
    toc-text: 'Create Database'
  - toc-url: 'Enable-Force-Logging'
    toc-text: 'Enable Force Logging'
  - toc-url: 'Redo-Transport-Authentication'
    toc-text: 'Redo Transport Authentication'
  - toc-url: 'Configure-the-Primary-Database-to-Receive-Redo-Data'
    toc-text: 'Configure the Primary Database to Receive Redo Data'
  - toc-url: 'Set-Primary-Database-Initialization-Parameters'
    toc-text: 'Set Primary Database Initialization Parameters'
  - toc-url: 'Enable-Archiving'
    toc-text: 'Enable Archiving'
- toc-url: 'Creating-a-Physical-Standby'
  toc-text: 'Creating a Physical Standby'
  toc-menu:
  - toc-url: 'Task-1:-Create-a-Backup-Copy-of-the-Primary-Database-Data-Files'
    toc-text: 'Task 1: Create a Backup Copy of the Primary Database Data Files'
  - toc-url: 'Task-2:-Create-a-Control-File-for-the-Standby-Database'
    toc-text: 'Task 2: Create a Control File for the Standby Database'
  - toc-url: 'Task-3:-Create-a-Parameter-File-for-the-Standby-Database'
    toc-text: 'Task 3: Create a Parameter File for the Standby Database'
  - toc-url: 'Task-4:-Copy-Files-from-the-Primary-System-to-the-Standby-System'
    toc-text: 'Task 4: Copy Files from the Primary System to the Standby System'
  - toc-url: 'Task-5:-Set-Up-the-Environment-to-Support-the-Standby-Database'
    toc-text: 'Task 5: Set Up the Environment to Support the Standby Database'
    toc-menu:
    - toc-url: '2.-Copy-Remote-Password-File-to-Botany'
      toc-text: '2. Copy Remote Password File to Botany'
    - toc-url: '3.-Configure-and-Start-Listener-on-Botany'
      toc-text: '3. Configure and Start Listener on Botany'
    - toc-url: '4.-Create-Oracle-Net-service-names'
      toc-text: '4. Create Oracle Net service names'
    - toc-url: '5.-Create-SPFILE'
      toc-text: '5. Create SPFILE'
  - toc-url: 'Task-6:-Start-the-Physical-Standby-Database'
    toc-text: 'Task 6: Start the Physical Standby Database'
  - toc-url: 'Task-7:-Verify-the-Physical-Standby-Database-Is-Performing-Properly'
    toc-text: 'Task 7: Verify the Physical Standby Database Is Performing Properly'
---
<div dir="ltr">
 <h2>
  <a name="TOC-Summary">
  </a>
  Summary
 </h2>
 <p>
  This is the basic procedure from the Data Guard manual. This does not use RMAN DUPLICATE or Cloud Control.
 </p>
 <p>
  The primary database is on
  <a href="home/12c-ocm/12c-ocm-system-builds/padstow.html" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   PADSTOW
  </a>
  with the physical standby database on
  <a href="home/12c-ocm/12c-ocm-system-builds/botany.html" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   BOTANY
  </a>
  .
 </p>
 <h2>
  <a name="TOC-References">
  </a>
  References
 </h2>
 <h3>
  <a name="TOC-Linux-Documentation">
  </a>
  Linux Documentation
 </h3>
 <p>
  <a href="http://man7.org/linux/man-pages/index.html" rel="nofollow">
   Linux man pages online
  </a>
 </p>
 <ul>
  <li>
   <a href="http://man7.org/linux/man-pages/man1/cp.1.html" rel="nofollow" style="font-family:monospace;background-color:#f2f2f2;font-size:large">
    cp
   </a>
  </li>
  <li>
   <a href="http://man7.org/linux/man-pages/man1/diff.1.html" rel="nofollow" style="font-family:monospace;background-color:#f2f2f2;font-size:large">
    diff
   </a>
  </li>
  <li>
   <a href="http://man7.org/linux/man-pages/man1/mkdir.1.html" rel="nofollow" style="font-family:monospace;background-color:#f2f2f2;font-size:large">
    mkdir
   </a>
  </li>
  <li>
   <a href="http://man7.org/linux/man-pages/man1/mv.1.html" rel="nofollow" style="font-family:monospace;background-color:#f2f2f2;font-size:large">
    mv
   </a>
  </li>
  <li>
   <a href="http://man7.org/linux/man-pages/man1/scp.1.html" rel="nofollow" style="font-family:monospace;background-color:#f2f2f2;font-size:large">
    scp
   </a>
  </li>
  <li>
   <a href="http://man7.org/linux/man-pages/man1/tar.1.html" rel="nofollow" style="font-family:monospace;background-color:#f2f2f2;font-size:large">
    tar
   </a>
  </li>
  <li>
   <a href="http://man7.org/linux/man-pages/man1/vi.1p.html" rel="nofollow" style="font-family:monospace;background-color:#f2f2f2;font-size:large">
    vi
   </a>
  </li>
 </ul>
 <h3>
  <a name="TOC-Oracle-Manuals">
  </a>
  Oracle Manuals
 </h3>
 <ul>
  <li>
   <a href="https://docs.oracle.com/database/121/SBYDB/toc.htm" rel="nofollow">
    Oracle
    <sup>
     ®
    </sup>
    12.1 Data Guard Concepts and Administration
   </a>
  </li>
  <ul>
   <li>
    <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#SBYDB00200" rel="nofollow">
     3 Creating a Physical Standby Database
    </a>
   </li>
   <ul>
    <li>
     <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-3DA747A3-1976-4A70-A96A-56281872D4D9" rel="nofollow">
      3.1 Preparing the Primary Database for Standby Database Creation
     </a>
    </li>
    <ul>
     <li>
      <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-AE2B1237-57A1-4745-A04C-4246A831A963" rel="nofollow">
       3.1.1 Enable Forced Logging
      </a>
     </li>
     <li>
      <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-0DC30726-3471-4588-BFE0-9CA0736328E2" rel="nofollow">
       3.1.2 Configure Redo Transport Authentication
      </a>
     </li>
     <li>
      <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-CA9076B9-3360-4A36-87AF-3390B391CEFF" rel="nofollow">
       3.1.3 Configure the Primary Database to Receive Redo Data
      </a>
     </li>
     <li>
      <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84" rel="nofollow">
       3.1.4 Set Primary Database Initialization Parameters
      </a>
     </li>
     <li>
      <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-0379019D-0995-4EB7-8861-B07B708C7B4C" rel="nofollow">
       3.1.5 Enable Archiving
      </a>
     </li>
    </ul>
    <li>
     <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-A86D403B-B3F5-4B05-9255-5BADD513F9CF" rel="nofollow">
      3.2 Step-by-Step Instructions for Creating a Physical Standby Database
     </a>
    </li>
    <ul>
     <li>
      <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-C40DD1FB-1DB5-4674-839D-D17ECA99FB93" rel="nofollow">
       3.2.1 Creating a Physical Standby Task 1: Create a Backup Copy of the Primary Database Data Files
      </a>
     </li>
     <li>
      <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-B471D788-AFD3-48B3-9709-D63C34DBC269" rel="nofollow">
       3.2.2 Creating a Physical Standby Task 2: Create a Control File for the Standby Database
      </a>
     </li>
     <li>
      <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA" rel="nofollow">
       3.2.3 Creating a Physical Standby Task 3: Create a Parameter File for the Standby Database
      </a>
     </li>
     <li>
      <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-4834C26E-6493-4C5A-91F7-680FD43FADF7" rel="nofollow">
       3.2.4 Creating a Physical Standby Task 4: Copy Files from the Primary System to the Standby System
      </a>
     </li>
     <li>
      <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392" rel="nofollow">
       3.2.5 Creating a Physical Standby Task 5: Set Up the Environment to Support the Standby Database
      </a>
     </li>
     <li>
      <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-3D65210D-9FE5-490E-938E-57FC2E07A569" rel="nofollow">
       3.2.6 Creating a Physical Standby Task 6: Start the Physical Standby Database
      </a>
     </li>
     <li>
      <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-AAA6D97B-A345-4825-A320-B662BB16E2ED" rel="nofollow">
       3.2.7 Creating a Physical Standby Task 7: Verify the Physical Standby Database Is Performing Properly
      </a>
     </li>
    </ul>
   </ul>
  </ul>
  <li>
   <a href="https://docs.oracle.com/database/121/RCMRF/toc.htm" rel="nofollow">
    Oracle
    <sup>
     ®
    </sup>
    12.1 Database Backup and Recovery Reference
   </a>
  </li>
  <ul>
   <li>
    <a href="https://docs.oracle.com/database/121/RCMRF/rcmsynta004.htm#GUID-9320BFF7-0728-4B3D-85B9-2184557ECDCE" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
     ALLOCATE CHANNEL
    </a>
   </li>
   <li>
    <a href="https://docs.oracle.com/database/121/RCMRF/rcmsynta006.htm#RCMRF107" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
     BACKUP
    </a>
   </li>
   <li>
    <a href="https://docs.oracle.com/database/121/RCMRF/rcmsynta015.htm#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
     DELETE
    </a>
   </li>
   <li>
    <a href="https://docs.oracle.com/database/121/RCMRF/rcmsynta2012.htm#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
     RUN
    </a>
   </li>
  </ul>
  <li>
   <a href="https://docs.oracle.com/database/121/REFRN/toc.htm" rel="nofollow">
    Oracle
    <sup>
     ®
    </sup>
    12.1 Database Reference
   </a>
  </li>
  <ul>
   <li>
    <a href="https://docs.oracle.com/database/121/REFRN/GUID-FD266F6F-D047-4EBB-8D96-B51B1DCA2D61.htm" rel="nofollow">
     1 Initialization Parameters
    </a>
   </li>
   <ul>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-E8B4E0EA-B073-4349-9EA9-E053F499FB9E.htm#REFRN10038" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      DB_FILE_NAME_CONVERT
     </a>
    </li>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-D8A5CD6B-2C72-47EF-B7D8-A6FC69934314.htm#REFRN10041" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      DB_NAME
     </a>
    </li>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-3547C937-5DDA-49FF-A9F9-14FF306545D8.htm#REFRN10242" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      DB_UNIQUE_NAME
     </a>
    </li>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-4F034B79-AE2A-44E3-8485-E055AA2DDD29.htm#REFRN10056" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      FAL_SERVER
     </a>
    </li>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-4DABDBE9-04B6-44D2-B93D-DAB15EA71427.htm#REFRN10237" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      LOG_ARCHIVE_CONFIG
     </a>
    </li>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-10BD97BF-6295-4E85-A1A3-854E15E05A44.htm#REFRN10086" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      LOG_ARCHIVE_DEST_n
     </a>
    </li>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-2D8A4B78-E94C-426E-AD55-EDE886AF29AC.htm#REFRN10089" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      LOG_ARCHIVE_FORMAT
     </a>
    </li>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-3D5894EF-C33D-4687-978F-F640174F6FCC.htm#REFRN10098" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      LOG_FILE_NAME_CONVERT
     </a>
    </li>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-6619299E-95E8-4821-B123-3B5899F046C7.htm#REFRN10184" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      REMOTE_LOGIN_PASSWORDFILE
     </a>
    </li>
   </ul>
   <li>
    <a href="https://docs.oracle.com/database/121/REFRN/GUID-8C5690B0-DE10-4460-86DF-80111869CF4C.htm" rel="nofollow">
     Part III Dynamic Performance Views
    </a>
   </li>
   <ul>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-C62A7B96-2DD4-4E70-A0D9-26EE4BFBE256.htm" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      V$DATABASE
     </a>
    </li>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-7BF7955C-9705-40F4-B2F6-5D7F3A32DD30.htm" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      V$DATAFILE
     </a>
    </li>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-AE0B85B3-6B51-4FBD-A460-2D7090D9E0B5.htm" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      V$LOGFILE
     </a>
    </li>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-CBE1185A-B3A3-4D66-B8B4-D6A26A0C0DB2.htm#REFRN30144" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      V$MANAGED_STANDBY
     </a>
    </li>
    <li>
     <a href="https://docs.oracle.com/database/121/REFRN/GUID-C86F3AB0-1191-447F-8EDF-4727D8693754.htm" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      V$PARAMETER
     </a>
    </li>
   </ul>
  </ul>
  <li>
   <a href="https://docs.oracle.com/database/121/NETAG/toc.htm" rel="nofollow">
    Oracle
    <sup>
     ®
    </sup>
    12.1 Database Net Services Administrator's Guide
   </a>
  </li>
  <ul>
   <li>
    <a href="https://docs.oracle.com/database/121/NETAG/connect.htm#NETAG357" rel="nofollow">
     15 Testing Connections
    </a>
   </li>
   <ul>
    <li>
     <a href="https://docs.oracle.com/database/121/NETAG/connect.htm#i427276" rel="nofollow">
      Using the TNSPING Utility to Test Connectivity from the Client
     </a>
    </li>
   </ul>
  </ul>
  <li>
   <a href="https://docs.oracle.com/database/121/SQLRF/toc.htm" rel="nofollow">
    Oracle
    <sup>
     ®
    </sup>
    12.1 Database SQL Reference
   </a>
  </li>
  <ul>
   <li>
    <a href="https://docs.oracle.com/database/121/SQLRF/statements_1006.htm#i2079942" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
     ALTER DATABASE
    </a>
   </li>
   <li>
    <a href="https://docs.oracle.com/database/121/SQLRF/statements_2017.htm#i2053602" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
     ALTER SYSTEM
    </a>
   </li>
   <li>
    <a href="https://docs.oracle.com/database/121/SQLRF/statements_6009.htm#i2072768" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
     CREATE PFILE
    </a>
   </li>
   <li>
    <a href="https://docs.oracle.com/database/121/SQLRF/statements_6018.htm#i2072626" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
     CREATE SPFILE
    </a>
   </li>
  </ul>
  <li>
   <a href="https://docs.oracle.com/database/121/NETRF/toc.htm" rel="nofollow">
    Oracle
    <sup>
     ®
    </sup>
    12.1 Database Net Services Reference
   </a>
  </li>
  <ul>
   <li>
    <a href="https://docs.oracle.com/database/121/NETRF/lsnrctl.htm#NETRF001" rel="nofollow">
     1 Listener Control Utility
    </a>
   </li>
  </ul>
  <li>
   <a href="https://docs.oracle.com/database/121/SQPUG/toc.htm" rel="nofollow">
    Oracle
    <sup>
     ®
    </sup>
    12.1 SQL*Plus
    <sup>
     ®
    </sup>
    User's Guide and Reference
   </a>
  </li>
  <ul>
   <li>
    <a href="https://docs.oracle.com/database/121/SQPUG/ch_twelve.htm#SQPUG022" rel="nofollow">
     SQL*Plus Command Reference
    </a>
   </li>
   <ul>
    <li>
     <a href="https://docs.oracle.com/database/121/SQPUG/ch_twelve045.htm#SQPUG128" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
      STARTUP
     </a>
    </li>
   </ul>
  </ul>
 </ul>
 <h2>
  <a name="TOC-Preparation">
  </a>
  Preparation
 </h2>
 <h3>
  <a name="TOC-Create-Database">
  </a>
  Create Database
 </h3>
 <p>
  I created the
  <span style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   OCM12PRI
  </span>
  CDB on
  <a href="home/12c-ocm/12c-ocm-system-builds/padstow.html" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   PADSTOW
  </a>
  using
  <code>
   dbca
  </code>
  . It has one (1) PDB:
  <span style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   EXAMPLES
  </span>
  .
 </p>
 <h3>
  <a name="TOC-Enable-Force-Logging">
  </a>
  Enable Force Logging
 </h3>
 <p>
  Following the procedure in “
  <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-AE2B1237-57A1-4745-A04C-4246A831A963" rel="nofollow">
   3.1.1 Enable Forced Logging
  </a>
  ”, I ran the following commands on
  <a href="home/12c-ocm/12c-ocm-system-builds/padstow.html" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   PADSTOW
  </a>
  as the
  <span style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   ORACLE
  </span>
  user:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px">sqlplus / as sysdba
</pre>
 <p>
  The output is:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">SQL*Plus: Release 12.1.0.2.0 Production on Wed Jul 4 20:44:38 2018

Copyright (c) 1982, 2014, Oracle.  All rights reserved.

Connected to an idle instance.
</pre>
 <p>
  Startup the database instance in MOUNT mode:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;margin-left:10px;padding:2px"><a href="https://docs.oracle.com/database/121/SQPUG/ch_twelve045.htm#SQPUG128" rel="nofollow">startup</a> mount
</pre>
 <p>
  The output is:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;margin-left:10px;padding:2px">ORACLE instance started.

Total System Global Area 1258291200 bytes
Fixed Size          2923920 bytes
Variable Size         822084208 bytes
Database Buffers      419430400 bytes
Redo Buffers           13852672 bytes
Database mounted.
</pre>
 <p>
  Determine the current settings:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px">select name, log_mode, force_logging from <a href="https://docs.oracle.com/database/121/REFRN/GUID-C62A7B96-2DD4-4E70-A0D9-26EE4BFBE256.htm" rel="nofollow">v$database</a>;
</pre>
 <p>
  The output is:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">NAME      LOG_MODE     FORCE_LOGGING
--------- ------------ ---------------------------------------
OCM12PRI  NOARCHIVELOG NO
</pre>
 <p>
  Change the settings with the following commands:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="https://docs.oracle.com/database/121/SQLRF/statements_1006.htm#i2079942" rel="nofollow">ALTER DATABASE</a> FORCE LOGGING;
<a href="https://docs.oracle.com/database/121/SQLRF/statements_1006.htm#i2079942" rel="nofollow">ALTER DATABASE</a> ARCHIVELOG;
</pre>
 <p>
  Verify that the settings are correct:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px">select name, log_mode, force_logging from <a href="https://docs.oracle.com/database/121/REFRN/GUID-C62A7B96-2DD4-4E70-A0D9-26EE4BFBE256.htm" rel="nofollow">v$database</a>;
</pre>
 <p>
  The output is:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">NAME      LOG_MODE     FORCE_LOGGING
--------- ------------ ---------------------------------------
OCM12PRI  ARCHIVELOG   YES
</pre>
 <p>
  In addition to enabling
  <span style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   FORCE LOGGING
  </span>
  , I also enabled
  <span style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   ARCHIVELOG
  </span>
  mode.
 </p>
 <h3>
  <a name="TOC-Redo-Transport-Authentication">
  </a>
  Redo Transport Authentication
 </h3>
 <p>
  Since I do not have OID configured in my environment, there is no need to
  <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-0DC30726-3471-4588-BFE0-9CA0736328E2" rel="nofollow">
   Configure Redo Transport Authentication
  </a>
  .
 </p>
 <h3>
  <a name="TOC-Configure-the-Primary-Database-to-Receive-Redo-Data">
  </a>
  Configure the Primary Database to Receive Redo Data
 </h3>
 <p>
  Since this environment is only used for a fast fail-over test, there is no need to
  <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-CA9076B9-3360-4A36-87AF-3390B391CEFF" rel="nofollow">
   Configure the Primary Database to Receive Redo Data
  </a>
  .
 </p>
 <h3>
  <a name="TOC-Set-Primary-Database-Initialization-Parameters">
  </a>
  Set Primary Database Initialization Parameters
 </h3>
 <p>
  For the list of parameters described in “
  <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84" rel="nofollow">
   3.1.4 Set Primary Database Initialization Parameters
  </a>
  ”, I ran the following query to get current values:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px">COLUMN name   FORMAT A25
COLUMN value  FORMAT A50
SET PAGESIZE 100
SELECT
    name,
    value
  FROM
    <a href="https://docs.oracle.com/database/121/REFRN/GUID-C86F3AB0-1191-447F-8EDF-4727D8693754.htm" rel="nofollow">v$parameter</a>
  WHERE
    NAME IN (
      'db_name',
      'db_unique_name',
      'log_archive_config',
      'control_files',
      'log_archive_dest_1',
      'log_archive_dest_2',
      'remote_login_passwordfile',
      'log_archive_format'
    )
  ORDER BY
    name
/</pre>
 <p>
  The result was:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">NAME                      VALUE
------------------------- --------------------------------------------------
control_files             /opt/app/oracle/oradata/ocm12pri/control01.ctl, /o
                          pt/app/oracle/fast_recovery_area/ocm12pri/control0
                          2.ctl

db_name                   ocm12pri
db_unique_name            ocm12pri_padstow
log_archive_config
log_archive_dest_1
log_archive_dest_2
log_archive_format        %t_%s_%r.dbf
remote_login_passwordfile EXCLUSIVE

8 rows selected.
</pre>
 <p>
  Added the following lines to
  <span style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   /opt/app/oracle/product/12.1.0/dbhome_1/network/admin/tnsnames.ora
  </span>
  on
  <a href="home/12c-ocm/12c-ocm-system-builds/padstow.html" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   PADSTOW
  </a>
  :
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">OCM12PRI_BOTANY =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = botany.yaocm.id.au)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = ocm12pri_botany.yaocm.id.au)
    )
  )
</pre>
 <p>
  Verified the changes as follows:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="https://docs.oracle.com/database/121/NETAG/connect.htm#i427276" rel="nofollow">tnsping</a> ocm12pri_botany
</pre>
 <p>
  The output was:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">TNS Ping Utility for Linux: Version 12.1.0.2.0 - Production on 14-JUL-2018 21:34:53

Copyright (c) 1997, 2014, Oracle.  All rights reserved.

Used parameter files:
/opt/app/oracle/product/12.1.0/dbhome_1/network/admin/sqlnet.ora


Used TNSNAMES adapter to resolve the alias
Attempting to contact (DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = botany.yaocm.id.au)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = ocm12pri_botany.yaocm.id.au)))
OK (10 msec)
</pre>
 <p>
  In all, I only had to make the following three (3) parameter changes:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="https://docs.oracle.com/database/121/SQLRF/statements_2017.htm#i2053602" rel="nofollow">ALTER SYSTEM</a> SET <a href="https://docs.oracle.com/database/121/REFRN/GUID-4DABDBE9-04B6-44D2-B93D-DAB15EA71427.htm#REFRN10237" rel="nofollow">log_archive_config</a>='DG_CONFIG=(OCM12PRI_PADSTOW,OCM12PRI_BOTANY)';
<a href="https://docs.oracle.com/database/121/SQLRF/statements_2017.htm#i2053602" rel="nofollow">ALTER SYSTEM</a> SET <a href="https://docs.oracle.com/database/121/REFRN/GUID-10BD97BF-6295-4E85-A1A3-854E15E05A44.htm#REFRN10086" rel="nofollow">log_archive_dest_1</a>='LOCATION=USE_DB_RECOVERY_FILE_DEST VALID_FOR=(ALL_LOGFILES,ALL_ROLES) DB_UNIQUE_NAME=OCM12PRI_PADSTOW';
<a href="https://docs.oracle.com/database/121/SQLRF/statements_2017.htm#i2053602" rel="nofollow">ALTER SYSTEM</a> SET <a href="https://docs.oracle.com/database/121/REFRN/GUID-10BD97BF-6295-4E85-A1A3-854E15E05A44.htm#REFRN10086" rel="nofollow">log_archive_dest_2</a>='SERVICE=OCM12PRI_BOTANY ASYNC VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=OCM12PRI_BOTANY';
</pre>
 <p>
  The new set of parameters are:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">NAME                      VALUE
------------------------- --------------------------------------------------
control_files             /opt/app/oracle/oradata/ocm12pri/control01.ctl, /o
                          pt/app/oracle/fast_recovery_area/ocm12pri/control0
                          2.ctl

db_name                   ocm12pri
db_unique_name            ocm12pri_padstow
log_archive_config        DG_CONFIG=(OCM12PRI_PADSTOW,OCM12PRI_BOTANY)
log_archive_dest_1        LOCATION=USE_DB_RECOVERY_FILE_DEST VALID_FOR=(ALL_
                          LOGFILES,ALL_ROLES) DB_UNIQUE_NAME=OCM12PRI_PADSTO
                          W

log_archive_dest_2        SERVICE=OCM12PRI_BOTANY ASYNC VALID_FOR=(ONLINE_LO
                          GFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=OCM12PRI_BOTAN
                          Y

log_archive_format        %t_%s_%r.dbf
remote_login_passwordfile EXCLUSIVE

8 rows selected.
</pre>
 <p>
  Since I only plan to do fail-over tests, there is now need to configure the other parameters or to allocate standby redo log files.
 </p>
 <h3>
  <a name="TOC-Enable-Archiving">
  </a>
  Enable Archiving
 </h3>
 <p>
  I had already enabled archiving earlier (see
  <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-0379019D-0995-4EB7-8861-B07B708C7B4C" rel="nofollow">
   3.1.5 Enable Archiving
  </a>
  for procedure).
 </p>
 <h2>
  <a name="TOC-Creating-a-Physical-Standby">
  </a>
  Creating a Physical Standby
 </h2>
 <h3>
  <a name="TOC-Task-1:-Create-a-Backup-Copy-of-the-Primary-Database-Data-Files">
  </a>
  Task 1: Create a Backup Copy of the Primary Database Data Files
 </h3>
 <p>
  Followed the procedure in “
  <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-C40DD1FB-1DB5-4674-839D-D17ECA99FB93" rel="nofollow">
   3.2.1 Creating a Physical Standby Task 1: Create a Backup Copy of the Primary Database Data Files
  </a>
  ”.
 </p>
 <p>
  I used the following RMAN commands to backup the database:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="https://docs.oracle.com/database/121/RCMRF/rcmsynta2012.htm#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B" rel="nofollow">run</a> {
  <a href="https://docs.oracle.com/database/121/RCMRF/rcmsynta004.htm#GUID-9320BFF7-0728-4B3D-85B9-2184557ECDCE" rel="nofollow">allocate channel</a> d1 device type disk;
  <a href="https://docs.oracle.com/database/121/RCMRF/rcmsynta004.htm#GUID-9320BFF7-0728-4B3D-85B9-2184557ECDCE" rel="nofollow">allocate channel</a> d2 device type disk;
  <a href="https://docs.oracle.com/database/121/RCMRF/rcmsynta006.htm#RCMRF107" rel="nofollow">backup</a> database archivelog all delete input;
  <a href="https://docs.oracle.com/database/121/RCMRF/rcmsynta015.htm#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3" rel="nofollow">delete</a> noprompt obsolete;
}
</pre>
 <p>
  The RMAN output is as follows:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">using target database control file instead of recovery catalog
allocated channel: d1
channel d1: SID=85 device type=DISK

allocated channel: d2
channel d2: SID=82 device type=DISK

Starting backup at 14-JUL-18
channel d1: starting full datafile backup set
channel d1: specifying datafile(s) in backup set
input datafile file number=00011 name=/opt/app/oracle/oradata/ocm12pri/examples/example01.dbf
input datafile file number=00010 name=/opt/app/oracle/oradata/ocm12pri/examples/SAMPLE_SCHEMA_users01.dbf
channel d1: starting piece 1 at 14-JUL-18
channel d2: starting full datafile backup set
channel d2: specifying datafile(s) in backup set
input datafile file number=00001 name=/opt/app/oracle/oradata/ocm12pri/system01.dbf
input datafile file number=00004 name=/opt/app/oracle/oradata/ocm12pri/undotbs01.dbf
channel d2: starting piece 1 at 14-JUL-18
channel d1: finished piece 1 at 14-JUL-18
piece handle=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmsb4nm_.bkp tag=TAG20180714T215755 comment=NONE
channel d1: backup set complete, elapsed time: 00:00:27
channel d1: starting archived log backup set
channel d1: specifying archived log(s) in backup set
input archived log thread=1 sequence=34 RECID=1 STAMP=981485203
input archived log thread=1 sequence=35 RECID=2 STAMP=981485482
channel d1: starting piece 1 at 14-JUL-18
channel d1: finished piece 1 at 14-JUL-18
piece handle=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_annnn_TAG20180714T215755_fnmsbz5y_.bkp tag=TAG20180714T215755 comment=NONE
channel d1: backup set complete, elapsed time: 00:00:08
channel d1: deleting archived log(s)
<span style="font-weight:bold">RMAN-08137: WARNING: archived log not deleted, needed for standby or upstream capture process</span>
archived log file name=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/archivelog/2018_07_14/o1_mf_1_34_fnmg3lps_.arc thread=1 sequence=34
<span style="font-weight:bold">RMAN-08137: WARNING: archived log not deleted, needed for standby or upstream capture process</span>
archived log file name=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/archivelog/2018_07_14/o1_mf_1_35_fnmgd9mw_.arc thread=1 sequence=35
channel d1: starting archived log backup set
channel d1: specifying archived log(s) in backup set
input archived log thread=1 sequence=36 RECID=3 STAMP=981485640
input archived log thread=1 sequence=37 RECID=4 STAMP=981495926
channel d1: starting piece 1 at 14-JUL-18
channel d1: finished piece 1 at 14-JUL-18
piece handle=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_annnn_TAG20180714T215755_fnmsc7k9_.bkp tag=TAG20180714T215755 comment=NONE
channel d1: backup set complete, elapsed time: 00:00:07
channel d1: deleting archived log(s)
<span style="font-weight:bold">RMAN-08137: WARNING: archived log not deleted, needed for standby or upstream capture process</span>
archived log file name=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/archivelog/2018_07_14/o1_mf_1_36_fnmgk7xc_.arc thread=1 sequence=36
<span style="font-weight:bold">RMAN-08137: WARNING: archived log not deleted, needed for standby or upstream capture process</span>
archived log file name=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/archivelog/2018_07_14/o1_mf_1_37_fnmrlokk_.arc thread=1 sequence=37
channel d1: starting full datafile backup set
channel d1: specifying datafile(s) in backup set
input datafile file number=00009 name=/opt/app/oracle/oradata/ocm12pri/examples/sysaux01.dbf
input datafile file number=00008 name=/opt/app/oracle/oradata/ocm12pri/examples/system01.dbf
channel d1: starting piece 1 at 14-JUL-18
channel d2: finished piece 1 at 14-JUL-18
piece handle=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmsb7dy_.bkp tag=TAG20180714T215755 comment=NONE
channel d2: backup set complete, elapsed time: 00:01:18
channel d2: starting full datafile backup set
channel d2: specifying datafile(s) in backup set
input datafile file number=00003 name=/opt/app/oracle/oradata/ocm12pri/sysaux01.dbf
input datafile file number=00006 name=/opt/app/oracle/oradata/ocm12pri/users01.dbf
channel d2: starting piece 1 at 14-JUL-18
channel d1: finished piece 1 at 14-JUL-18
piece handle=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmschh2_.bkp tag=TAG20180714T215755 comment=NONE
channel d1: backup set complete, elapsed time: 00:01:02
channel d1: starting full datafile backup set
channel d1: specifying datafile(s) in backup set
input datafile file number=00007 name=/opt/app/oracle/oradata/ocm12pri/pdbseed/sysaux01.dbf
channel d1: starting piece 1 at 14-JUL-18
channel d2: finished piece 1 at 14-JUL-18
piece handle=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmsdowp_.bkp tag=TAG20180714T215755 comment=NONE
channel d2: backup set complete, elapsed time: 00:00:42
channel d2: starting full datafile backup set
channel d2: specifying datafile(s) in backup set
input datafile file number=00005 name=/opt/app/oracle/oradata/ocm12pri/pdbseed/system01.dbf
channel d2: starting piece 1 at 14-JUL-18
channel d1: finished piece 1 at 14-JUL-18
piece handle=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmsfftt_.bkp tag=TAG20180714T215755 comment=NONE
channel d1: backup set complete, elapsed time: 00:00:42
channel d2: finished piece 1 at 14-JUL-18
piece handle=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmsfykn_.bkp tag=TAG20180714T215755 comment=NONE
channel d2: backup set complete, elapsed time: 00:00:25
Finished backup at 14-JUL-18

Starting Control File and SPFILE Autobackup at 14-JUL-18
piece handle=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/autobackup/2018_07_14/o1_mf_s_981496824_fnmsgwtq_.bkp comment=NONE
Finished Control File and SPFILE Autobackup at 14-JUL-18

RMAN retention policy will be applied to the command
RMAN retention policy is set to redundancy 1
<span style="font-weight:bold">RMAN-08137: WARNING: archived log not deleted, needed for standby or upstream capture process</span>
archived log file name=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/archivelog/2018_07_14/o1_mf_1_34_fnmg3lps_.arc thread=1 sequence=34
<span style="font-weight:bold">RMAN-08137: WARNING: archived log not deleted, needed for standby or upstream capture process</span>
archived log file name=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/archivelog/2018_07_14/o1_mf_1_35_fnmgd9mw_.arc thread=1 sequence=35
<span style="font-weight:bold">RMAN-08137: WARNING: archived log not deleted, needed for standby or upstream capture process</span>
archived log file name=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/archivelog/2018_07_14/o1_mf_1_36_fnmgk7xc_.arc thread=1 sequence=36
<span style="font-weight:bold">RMAN-08137: WARNING: archived log not deleted, needed for standby or upstream capture process</span>
archived log file name=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/archivelog/2018_07_14/o1_mf_1_37_fnmrlokk_.arc thread=1 sequence=37
Deleting the following obsolete backups and copies:
Type                 Key    Completion Time    Filename/Handle
-------------------- ------ ------------------ --------------------
Backup Set           2      14-JUL-18         
  Backup Piece       2      14-JUL-18          /opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_annnn_TAG20180714T215755_fnmsbz5y_.bkp
Backup Set           3      14-JUL-18         
  Backup Piece       3      14-JUL-18          /opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_annnn_TAG20180714T215755_fnmsc7k9_.bkp
deleted backup piece
backup piece handle=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_annnn_TAG20180714T215755_fnmsbz5y_.bkp RECID=2 STAMP=981496702
deleted backup piece
backup piece handle=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_annnn_TAG20180714T215755_fnmsc7k9_.bkp RECID=3 STAMP=981496711
Deleted 2 objects

released channel: d1
released channel: d2
</pre>
 <div style="display:block;background-color:cyan;margin-left:20px;padding:5px;border-left:5px solid blue">
  <span style="font-weight:bold;font-size:x-large;font-family:sans-serif;color:blue">
   Note:
  </span>
  <p>
   The above warnings are caused by the Data Guard settings I had configured earlier in that the marked archived redo log files have not been yet applied the non-existent standby database as specified in the parameter,
   <a href="https://docs.oracle.com/database/121/REFRN/GUID-10BD97BF-6295-4E85-A1A3-854E15E05A44.htm#REFRN10086" rel="nofollow" style="font-family:monospace;background-color:#f2f2f2;font-size:large">
    log_archive_dest_2
   </a>
   .
  </p>
 </div>
 <p>
  To make the copying of the RMAN backup files easier, I used the following RMAN command to backup the entire recovery area to
  <span style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   /tmp
  </span>
  :
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="https://docs.oracle.com/database/121/RCMRF/rcmsynta006.htm#RCMRF107" rel="nofollow">backup</a> recovery area to destination '/tmp';
</pre>
 <p>
  The RMAN output is as follows:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">Starting backup at 14-JUL-18
using channel ORA_DISK_1
specification does not match any datafile copy in the repository
channel ORA_DISK_1: starting archived log backup set
channel ORA_DISK_1: specifying archived log(s) in backup set
input archived log thread=1 sequence=34 RECID=1 STAMP=981485203
input archived log thread=1 sequence=35 RECID=2 STAMP=981485482
input archived log thread=1 sequence=36 RECID=3 STAMP=981485640
input archived log thread=1 sequence=37 RECID=4 STAMP=981495926
channel ORA_DISK_1: starting piece 1 at 14-JUL-18
channel ORA_DISK_1: finished piece 1 at 14-JUL-18
piece handle=/tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_annnn_TAG20180714T222835_fnmv3mlz_.bkp tag=TAG20180714T222835 comment=NONE
channel ORA_DISK_1: backup set complete, elapsed time: 00:00:07
channel ORA_DISK_1: input backup set: count=1, stamp=981496675, piece=1
channel ORA_DISK_1: starting piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece /opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmsb4nm_.bkp
piece handle=/tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv3to3_.bkp comment=NONE
channel ORA_DISK_1: finished piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece complete, elapsed time: 00:00:07
channel ORA_DISK_1: input backup set: count=2, stamp=981496676, piece=1
channel ORA_DISK_1: starting piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece /opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmsb7dy_.bkp
piece handle=/tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv41p9_.bkp comment=NONE
channel ORA_DISK_1: finished piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece complete, elapsed time: 00:00:25
channel ORA_DISK_1: input backup set: count=5, stamp=981496718, piece=1
channel ORA_DISK_1: starting piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece /opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmschh2_.bkp
piece handle=/tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv4tr2_.bkp comment=NONE
channel ORA_DISK_1: finished piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece complete, elapsed time: 00:00:25
channel ORA_DISK_1: input backup set: count=6, stamp=981496755, piece=1
channel ORA_DISK_1: starting piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece /opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmsdowp_.bkp
piece handle=/tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv5mt2_.bkp comment=NONE
channel ORA_DISK_1: finished piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece complete, elapsed time: 00:00:15
channel ORA_DISK_1: input backup set: count=7, stamp=981496781, piece=1
channel ORA_DISK_1: starting piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece /opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmsfftt_.bkp
piece handle=/tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv62vw_.bkp comment=NONE
channel ORA_DISK_1: finished piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece complete, elapsed time: 00:00:15
channel ORA_DISK_1: input backup set: count=8, stamp=981496797, piece=1
channel ORA_DISK_1: starting piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece /opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmsfykn_.bkp
piece handle=/tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv6kxr_.bkp comment=NONE
channel ORA_DISK_1: finished piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece complete, elapsed time: 00:00:07
channel ORA_DISK_1: input backup set: count=9, stamp=981496824, piece=1
channel ORA_DISK_1: starting piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece /opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/autobackup/2018_07_14/o1_mf_s_981496824_fnmsgwtq_.bkp
piece handle=/tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_ncsnf_TAG20180714T220024_fnmv6s0g_.bkp comment=NONE
channel ORA_DISK_1: finished piece 1 at 14-JUL-18
channel ORA_DISK_1: backup piece complete, elapsed time: 00:00:04
Finished backup at 14-JUL-18

Starting Control File and SPFILE Autobackup at 14-JUL-18
piece handle=/opt/app/oracle/fast_recovery_area/OCM12PRI_PADSTOW/autobackup/2018_07_14/o1_mf_s_981498620_fnmv706q_.bkp comment=NONE
Finished Control File and SPFILE Autobackup at 14-JUL-18
</pre>
 <p>
  Created a compressed TAR archive as follows:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="http://man7.org/linux/man-pages/man1/tar.1.html" rel="nofollow">tar</a> cvzf /tmp/padstow.gz /tmp/OCM12PRI_PADSTOW
</pre>
 <p>
  The output is as follows:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">tar: Removing leading `/' from member names
/tmp/OCM12PRI_PADSTOW/
/tmp/OCM12PRI_PADSTOW/backupset/
/tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/
/tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv41p9_.bkp
/tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_annnn_TAG20180714T222835_fnmv3mlz_.bkp
/tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_ncsnf_TAG20180714T220024_fnmv6s0g_.bkp
/tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv5mt2_.bkp
/tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/
/tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/
/tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/
/tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv6kxr_.bkp
/tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv62vw_.bkp
/tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/
/tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/
/tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/
/tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv4tr2_.bkp
/tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv3to3_.bkp
</pre>
 <h3>
  <a name="TOC-Task-2:-Create-a-Control-File-for-the-Standby-Database">
  </a>
  Task 2: Create a Control File for the Standby Database
 </h3>
 <p>
  Followed the procedure in “
  <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-B471D788-AFD3-48B3-9709-D63C34DBC269" rel="nofollow">
   3.2.2 Creating a Physical Standby Task 2: Create a Control File for the Standby Database
  </a>
  ”.
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="https://docs.oracle.com/database/121/SQLRF/statements_1006.htm#i2079942" rel="nofollow">ALTER DATABASE</a> CREATE STANDBY CONTROLFILE AS '/tmp/botany.ctl';
</pre>
 <h3>
  <a name="TOC-Task-3:-Create-a-Parameter-File-for-the-Standby-Database">
  </a>
  Task 3: Create a Parameter File for the Standby Database
 </h3>
 <p>
  Followed the procedure in “
  <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA" rel="nofollow">
   3.2.3 Creating a Physical Standby Task 3: Create a Parameter File for the Standby Database
  </a>
  ”.
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="https://docs.oracle.com/database/121/SQLRF/statements_6009.htm#i2072768" rel="nofollow">CREATE PFILE</a>='/tmp/initpadstow.ora' FROM SPFILE;
</pre>
 <p>
  I used the following commands to make changes to the proposed parameter file for the standby database on
  <span style="font-family:monospace;background-color:#f2f2f2;font-size:large">
   <a href="home/12c-ocm/12c-ocm-system-builds/botany.html">
    BOTANY
   </a>
  </span>
  :
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">[oracle@padstow ~]$ <a href="http://man7.org/linux/man-pages/man1/cp.1.html" rel="nofollow">cp</a> /tmp/initpadstow.ora /tmp/initbotany.ora
[oracle@padstow ~]$ <a href="http://man7.org/linux/man-pages/man1/vi.1p.html" rel="nofollow">vi</a> /tmp/initbotany.ora
[oracle@padstow ~]$ <a href="http://man7.org/linux/man-pages/man1/diff.1.html" rel="nofollow">diff</a> /tmp/initpadstow.ora /tmp/initbotany.ora 
21c21
&lt; *.db_unique_name='ocm12pri_padstow'
---
&gt; *.db_unique_name='ocm12pri_botany'
24a25
&gt; *.fal_server='ocm12pri_padstow'
27,28c28
&lt; *.log_archive_dest_1='LOCATION=USE_DB_RECOVERY_FILE_DEST VALID_FOR=(ALL_LOGFILES,ALL_ROLES) DB_UNIQUE_NAME=OCM12PRI_PADSTOW'
&lt; *.log_archive_dest_2='SERVICE=OCM12PRI_BOTANY ASYNC VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=OCM12PRI_BOTANY'
---
&gt; *.log_archive_dest_1='LOCATION=USE_DB_RECOVERY_FILE_DEST VALID_FOR=(ALL_LOGFILES,ALL_ROLES) DB_UNIQUE_NAME=OCM12PRI_BOTANY'
</pre>
 <div style="display:block;background-color:cyan;margin-left:20px;padding-left:5px;border-left:5px solid blue">
  <span style="font-weight:bold;font-size:x-large;font-family:sans-serif;color:blue">
   Note:
  </span>
  <p>
   The above changes are much simpler than the ones given in “
   <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA" rel="nofollow">
    3.2.3 Creating a Physical Standby Task 3: Create a Parameter File for the Standby Database
   </a>
   ” because I am not going to do a switchover.
  </p>
  <p>
   I did not include the following system parameters because the current files do not include the DB unique name:
  </p>
  <ul>
   <li>
    <a href="https://docs.oracle.com/database/121/REFRN/GUID-E8B4E0EA-B073-4349-9EA9-E053F499FB9E.htm#REFRN10038" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
     DB_FILE_NAME_CONVERT
    </a>
   </li>
   <li>
    <a href="https://docs.oracle.com/database/121/REFRN/GUID-3D5894EF-C33D-4687-978F-F640174F6FCC.htm#REFRN10098" rel="nofollow" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
     LOG_FILE_NAME_CONVERT
    </a>
   </li>
  </ul>
  <p>
   The values currently are:
  </p>
  <pre style="background-color:#f2f2f2;margin-left:10px;padding:2px">SQL&gt; SELECT name FROM <a href="https://docs.oracle.com/database/121/REFRN/GUID-7BF7955C-9705-40F4-B2F6-5D7F3A32DD30.htm" rel="nofollow">v$datafile</a> ORDER BY 1;

NAME
--------------------------------------------------------------------------------
/opt/app/oracle/oradata/ocm12pri/examples/SAMPLE_SCHEMA_users01.dbf
/opt/app/oracle/oradata/ocm12pri/examples/example01.dbf
/opt/app/oracle/oradata/ocm12pri/examples/sysaux01.dbf
/opt/app/oracle/oradata/ocm12pri/examples/system01.dbf
/opt/app/oracle/oradata/ocm12pri/pdbseed/sysaux01.dbf
/opt/app/oracle/oradata/ocm12pri/pdbseed/system01.dbf
/opt/app/oracle/oradata/ocm12pri/sysaux01.dbf
/opt/app/oracle/oradata/ocm12pri/system01.dbf
/opt/app/oracle/oradata/ocm12pri/undotbs01.dbf
/opt/app/oracle/oradata/ocm12pri/users01.dbf

10 rows selected.

SQL&gt; SELECT member FROM <a href="https://docs.oracle.com/database/121/REFRN/GUID-AE0B85B3-6B51-4FBD-A460-2D7090D9E0B5.htm" rel="nofollow">v$logfile</a> ORDER BY 1;

MEMBER
--------------------------------------------------------------------------------
/opt/app/oracle/oradata/ocm12pri/redo01.log
/opt/app/oracle/oradata/ocm12pri/redo02.log
/opt/app/oracle/oradata/ocm12pri/redo03.log
</pre>
 </div>
 <h3>
  <a name="TOC-Task-4:-Copy-Files-from-the-Primary-System-to-the-Standby-System">
  </a>
  Task 4: Copy Files from the Primary System to the Standby System
 </h3>
 <p>
  Followed the procedure in “
  <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-4834C26E-6493-4C5A-91F7-680FD43FADF7" rel="nofollow">
   3.2.4 Creating a Physical Standby Task 4: Copy Files from the Primary System to the Standby System
  </a>
  ”.
 </p>
 <p>
  Ran the following commands to copy the files from
  <span style="font-family:monospace;background-color:#f2f2f2;font-size:large">
   <a href="home/12c-ocm/12c-ocm-system-builds/padstow.html">
    PADSTOW
   </a>
  </span>
  to
  <span style="font-family:monospace;background-color:#f2f2f2;font-size:large">
   <a href="home/12c-ocm/12c-ocm-system-builds/botany.html">
    BOTANY
   </a>
  </span>
  :
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="http://man7.org/linux/man-pages/man1/scp.1.html" rel="nofollow">scp</a> /tmp/botany.ctl botany:/tmp
<a href="http://man7.org/linux/man-pages/man1/scp.1.html" rel="nofollow">scp</a> /tmp/initbotany.ora botany:/tmp
<a href="http://man7.org/linux/man-pages/man1/scp.1.html" rel="nofollow">scp</a> /tmp/padstow.gz botany:/tmp
<a href="http://man7.org/linux/man-pages/man1/scp.1.html" rel="nofollow">scp</a> /opt/app/oracle/product/12.1.0/dbhome_1/dbs/orapwocm12pri botany:/opt/app/oracle/product/12.1.0/dbhome_1/dbs
</pre>
 <p>
  Used the following command to restore the backup of the recovery area from
  <a href="home/12c-ocm/12c-ocm-system-builds/padstow.html" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   PADSTOW
  </a>
  into the current directory on
  <a href="home/12c-ocm/12c-ocm-system-builds/botany.html" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   BOTANY
  </a>
  :
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;margin-left:10px;padding:2px"><a href="http://man7.org/linux/man-pages/man1/tar.1.html" rel="nofollow">tar</a> xvzf /tmp/padstow.gz
</pre>
 <p>
  The output was:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;margin-left:10px;padding:2px">tmp/OCM12PRI_PADSTOW/
tmp/OCM12PRI_PADSTOW/backupset/
tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/
tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv41p9_.bkp
tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_annnn_TAG20180714T222835_fnmv3mlz_.bkp
tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_ncsnf_TAG20180714T220024_fnmv6s0g_.bkp
tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv5mt2_.bkp
tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/
tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/
tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/
tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv6kxr_.bkp
tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv62vw_.bkp
tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/
tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/
tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/
tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv4tr2_.bkp
tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv3to3_.bkp
</pre>
 <p>
  Move the backups from the current directory back to the
  <span style="font-family:monospace;background-color:#f2f2f2;font-size:large">
   /tmp
  </span>
  directory:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="http://man7.org/linux/man-pages/man1/mv.1.html" rel="nofollow">mv</a> tmp/OCM12PRI_PADSTOW /tmp
</pre>
 <p>
  Create the required directories on
  <span style="font-family:monospace;background-color:#f2f2f2;font-size:large">
   <a href="home/12c-ocm/12c-ocm-system-builds/botany.html">
    BOTANY
   </a>
  </span>
  :
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="http://man7.org/linux/man-pages/man1/mkdir.1.html" rel="nofollow">mkdir</a> -p /opt/app/oracle/oradata/ocm12pri
<a href="http://man7.org/linux/man-pages/man1/mkdir.1.html" rel="nofollow">mkdir</a> -p /opt/app/oracle/fast_recovery_area/ocm12pri
<a href="http://man7.org/linux/man-pages/man1/mkdir.1.html" rel="nofollow">mkdir</a> -p /opt/app/oracle/oradata/ocm12pri/examples
<a href="http://man7.org/linux/man-pages/man1/mkdir.1.html" rel="nofollow">mkdir</a> -p /opt/app/oracle/oradata/ocm12pri/pdbseed
</pre>
 <p>
  Update
  <span style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   /etc/oratab
  </span>
  as follows:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px">cat &gt;&gt;/etc/oratab &lt;&lt;DONE
ocm12pri:/opt/app/oracle/product/12.1.0/dbhome_1:N
DONE
</pre>
 <h3>
  <a name="TOC-Task-5:-Set-Up-the-Environment-to-Support-the-Standby-Database">
  </a>
  Task 5: Set Up the Environment to Support the Standby Database
 </h3>
 <p>
  Followed the procedure in “
  <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392" rel="nofollow">
   3.2.5 Creating a Physical Standby Task 5: Set Up the Environment to Support the Standby Database
  </a>
  ”.
 </p>
 <h4>
  <a name="TOC-2.-Copy-Remote-Password-File-to-Botany">
  </a>
  2. Copy Remote Password File to Botany
 </h4>
 <p>
  Ran the following command on
  <a href="home/12c-ocm/12c-ocm-system-builds/padstow.html" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   PADSTOW
  </a>
  :
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;margin-left:10px;padding:2px"><a href="http://man7.org/linux/man-pages/man1/scp.1.html" rel="nofollow">scp</a> $ORACLE_HOME/dbs/orapwocm12pri botany:$ORACLE_HOME/dbs/
</pre>
 <h4>
  <a name="TOC-3.-Configure-and-Start-Listener-on-Botany">
  </a>
  3. Configure and Start Listener on Botany
 </h4>
 <p>
  Listener was already configure when
  <a href="home/12c-ocm/12c-ocm-system-builds/botany.html" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   BOTANY
  </a>
  was cloned from
  <span style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   PADSTOW
  </span>
  . This is confirmed as follows:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;margin-left:10px;padding:2px"><a href="https://docs.oracle.com/database/121/NETRF/toc.htm" rel="nofollow">lsnrctl</a> status
</pre>
 <p>
  The output is:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;margin-left:10px;padding:2px">LSNRCTL for Linux: Version 12.1.0.2.0 - Production on 23-JUL-2018 19:58:53

Copyright (c) 1991, 2014, Oracle.  All rights reserved.

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=IPC)(KEY=LISTENER)))
STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for Linux: Version 12.1.0.2.0 - Production
Start Date                23-JUL-2018 11:39:43
Uptime                    0 days 8 hr. 19 min. 9 sec
Trace Level               off
Security                  ON: Local OS Authentication
SNMP                      OFF
Listener Parameter File   /opt/app/oracle/product/12.1.0/dbhome_1/network/admin/listener.ora
Listener Log File         /opt/app/oracle/diag/tnslsnr/botany/listener/alert/log.xml
Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=LISTENER)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=botany)(PORT=1521)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))
The listener supports no services
The command completed successfully
</pre>
 <h4>
  <a name="TOC-4.-Create-Oracle-Net-service-names">
  </a>
  4. Create Oracle Net service names
 </h4>
 <p>
  Added the following lines to
  <span style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   /opt/app/oracle/product/12.1.0/dbhome_1/network/admin/tnsnames.ora
  </span>
  on
  <a href="home/12c-ocm/12c-ocm-system-builds/botany.html" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   BOTANY
  </a>
  :
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">OCM12PRI_PADSTOW =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = padstow.yaocm.id.au)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = ocm12pri_padstow.yaocm.id.au)
    )
  )
</pre>
 <p>
  Verified the changes as follows:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="https://docs.oracle.com/database/121/NETAG/connect.htm#i427276" rel="nofollow">tnsping</a> ocm12pri_padstow
</pre>
 <p>
  The output was:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">TNS Ping Utility for Linux: Version 12.1.0.2.0 - Production on 23-JUL-2018 21:28:12

Copyright (c) 1997, 2014, Oracle.  All rights reserved.

Used parameter files:
/opt/app/oracle/product/12.1.0/dbhome_1/network/admin/sqlnet.ora


Used TNSNAMES adapter to resolve the alias
Attempting to contact (DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = padstow.yaocm.id.au)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = ocm12pri_padstow.yaocm.id.au)))
OK (10 msec)
</pre>
 <h4>
  <a name="TOC-5.-Create-SPFILE">
  </a>
  5. Create SPFILE
 </h4>
 <p>
  Configure an environment for an idle instance (on
  <a href="home/12c-ocm/12c-ocm-system-builds/botany.html" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   BOTANY
  </a>
  ) as follows:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px">. oraenv
</pre>
 <p>
  Use the following parameters:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">ORACLE_SID = [personal] ? ocm12pri
ORACLE_HOME = [/home/oracle] ? /opt/app/oracle/product/12.1.0/dbhome_1
The Oracle base remains unchanged with value /opt/app/oracle
</pre>
 <p>
  Start session with an idle instance as follows:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px">sqlplus / as sysdba
</pre>
 <p>
  The output is:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">SQL*Plus: Release 12.1.0.2.0 Production on Mon Jul 23 21:31:35 2018

Copyright (c) 1982, 2014, Oracle.  All rights reserved.

Connected to an idle instance.
</pre>
 <p>
  Convert the parameter file into a SPFILE as follows:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="https://docs.oracle.com/database/121/SQLRF/statements_6018.htm#i2072626" rel="nofollow">create spfile</a> from pfile='/tmp/initbotany.ora';
</pre>
 <p>
  The expected output is:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">File created.
</pre>
 <p>
  Exit from SQL*Plus as follows as all following commands will be done through RMAN:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px">exit
</pre>
 <p>
  The expected output is:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">Disconnected from Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production
With the Partitioning, OLAP, Advanced Analytics, Real Application Testing
and Unified Auditing options
</pre>
 <h3>
  <a name="TOC-Task-6:-Start-the-Physical-Standby-Database">
  </a>
  Task 6: Start the Physical Standby Database
 </h3>
 <div style="display:block;background-color:cyan;margin-left:20px;padding-left:5px;border-left:5px solid blue">
  <span style="font-weight:bold;font-size:x-large;font-family:sans-serif;color:blue">
   Note:
  </span>
  <p>
   There is a missing step here: I did not record how I used the standby control (
   <span style="font-family:monospace;background-color:lightgrey">
    /tmp/botany.ctl
   </span>
   ) to create the cotrolfiles on the physical standby.
  </p>
 </div>
 <p>
  Followed the procedure in “
  <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-3D65210D-9FE5-490E-938E-57FC2E07A569" rel="nofollow">
   3.2.6 Creating a Physical Standby Task 6: Start the Physical Standby Database
  </a>
  ”.
 </p>
 <p>
  Start a RMAN session (on
  <a href="home/12c-ocm/12c-ocm-system-builds/botany.html" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   BOTANY
  </a>
  ):
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px">rman target /
</pre>
 <p>
  Sample output is:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">Recovery Manager: Release 12.1.0.2.0 - Production on Fri Aug 3 21:45:27 2018

Copyright (c) 1982, 2014, Oracle and/or its affiliates.  All rights reserved.

connected to target database (not started)
</pre>
 <p>
  Mount the database:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px">startup mount
</pre>
 <p>
  Sample output is:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">Oracle instance started
database mounted

Total System Global Area    1224736768 bytes

Fixed Size                     2923824 bytes
Variable Size                771752656 bytes
Database Buffers             436207616 bytes
Redo Buffers                  13852672 bytes
</pre>
 <p>
  Restore the database as follows:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px">restore database;
</pre>
 <p>
  Sample output is:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">Starting restore at 04-AUG-18
Starting implicit crosscheck backup at 04-AUG-18
allocated channel: ORA_DISK_1
channel ORA_DISK_1: SID=23 device type=DISK
Crosschecked 16 objects
Finished implicit crosscheck backup at 04-AUG-18

Starting implicit crosscheck copy at 04-AUG-18
using channel ORA_DISK_1
Crosschecked 2 objects
Finished implicit crosscheck copy at 04-AUG-18

searching for all files in the recovery area
cataloging files...
cataloging done

List of Cataloged Files
=======================
File Name: /opt/app/oracle/fast_recovery_area/OCM12PRI_BOTANY/archivelog/2018_07_31/o1_mf_1_49_fp0j6kf2_.arc
File Name: /opt/app/oracle/fast_recovery_area/OCM12PRI_BOTANY/archivelog/2018_07_31/o1_mf_1_50_fp0j6hr5_.arc

using channel ORA_DISK_1

channel ORA_DISK_1: starting datafile backup set restore
channel ORA_DISK_1: specifying datafile(s) to restore from backup set
channel ORA_DISK_1: restoring datafile 00010 to /opt/app/oracle/oradata/ocm12pri/examples/SAMPLE_SCHEMA_users01.dbf
channel ORA_DISK_1: restoring datafile 00011 to /opt/app/oracle/oradata/ocm12pri/examples/example01.dbf
channel ORA_DISK_1: reading from backup piece /tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv3to3_.bkp
channel ORA_DISK_1: piece handle=/tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv3to3_.bkp tag=TAG20180714T215755
channel ORA_DISK_1: restored backup piece 1
channel ORA_DISK_1: restore complete, elapsed time: 00:00:25
channel ORA_DISK_1: starting datafile backup set restore
channel ORA_DISK_1: specifying datafile(s) to restore from backup set
channel ORA_DISK_1: restoring datafile 00001 to /opt/app/oracle/oradata/ocm12pri/system01.dbf
channel ORA_DISK_1: restoring datafile 00004 to /opt/app/oracle/oradata/ocm12pri/undotbs01.dbf
channel ORA_DISK_1: reading from backup piece /tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv41p9_.bkp
channel ORA_DISK_1: piece handle=/tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv41p9_.bkp tag=TAG20180714T215755
channel ORA_DISK_1: restored backup piece 1
channel ORA_DISK_1: restore complete, elapsed time: 00:00:25
channel ORA_DISK_1: starting datafile backup set restore
channel ORA_DISK_1: specifying datafile(s) to restore from backup set
channel ORA_DISK_1: restoring datafile 00008 to /opt/app/oracle/oradata/ocm12pri/examples/system01.dbf
channel ORA_DISK_1: restoring datafile 00009 to /opt/app/oracle/oradata/ocm12pri/examples/sysaux01.dbf
channel ORA_DISK_1: reading from backup piece /tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv4tr2_.bkp
channel ORA_DISK_1: piece handle=/tmp/OCM12PRI_PADSTOW/708F04B2A880250FE0536E01A8C01CF7/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv4tr2_.bkp tag=TAG20180714T215755
channel ORA_DISK_1: restored backup piece 1
channel ORA_DISK_1: restore complete, elapsed time: 00:00:26
channel ORA_DISK_1: starting datafile backup set restore
channel ORA_DISK_1: specifying datafile(s) to restore from backup set
channel ORA_DISK_1: restoring datafile 00003 to /opt/app/oracle/oradata/ocm12pri/sysaux01.dbf
channel ORA_DISK_1: restoring datafile 00006 to /opt/app/oracle/oradata/ocm12pri/users01.dbf
channel ORA_DISK_1: reading from backup piece /tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv5mt2_.bkp
channel ORA_DISK_1: piece handle=/tmp/OCM12PRI_PADSTOW/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv5mt2_.bkp tag=TAG20180714T215755
channel ORA_DISK_1: restored backup piece 1
channel ORA_DISK_1: restore complete, elapsed time: 00:00:15
channel ORA_DISK_1: starting datafile backup set restore
channel ORA_DISK_1: specifying datafile(s) to restore from backup set
channel ORA_DISK_1: restoring datafile 00007 to /opt/app/oracle/oradata/ocm12pri/pdbseed/sysaux01.dbf
channel ORA_DISK_1: reading from backup piece /tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv62vw_.bkp
channel ORA_DISK_1: piece handle=/tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv62vw_.bkp tag=TAG20180714T215755
channel ORA_DISK_1: restored backup piece 1
channel ORA_DISK_1: restore complete, elapsed time: 00:00:15
channel ORA_DISK_1: starting datafile backup set restore
channel ORA_DISK_1: specifying datafile(s) to restore from backup set
channel ORA_DISK_1: restoring datafile 00005 to /opt/app/oracle/oradata/ocm12pri/pdbseed/system01.dbf
channel ORA_DISK_1: reading from backup piece /tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv6kxr_.bkp
channel ORA_DISK_1: piece handle=/tmp/OCM12PRI_PADSTOW/708E7D80672721D0E0536E01A8C0111B/backupset/2018_07_14/o1_mf_nnndf_TAG20180714T215755_fnmv6kxr_.bkp tag=TAG20180714T215755
channel ORA_DISK_1: restored backup piece 1
channel ORA_DISK_1: restore complete, elapsed time: 00:00:07
Finished restore at 04-AUG-18
</pre>
 <p>
  Start the recovery process as follows:
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px"><a href="https://docs.oracle.com/database/121/SQLRF/statements_1006.htm#i2079942" rel="nofollow">alter database</a> recover managed standby database disconnect from session;;
</pre>
 <p>
  Sample output is:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">Statement processed
</pre>
 <h3>
  <a name="TOC-Task-7:-Verify-the-Physical-Standby-Database-Is-Performing-Properly">
  </a>
  Task 7: Verify the Physical Standby Database Is Performing Properly
 </h3>
 <p>
  Followed the procedure in “
  <a href="https://docs.oracle.com/database/121/SBYDB/create_ps.htm#GUID-AAA6D97B-A345-4825-A320-B662BB16E2ED" rel="nofollow">
   3.2.7 Creating a Physical Standby Task 7: Verify the Physical Standby Database Is Performing Properly
  </a>
  ”.
 </p>
 <p>
  Run the following query to see the status of the apply process (on
  <a href="home/12c-ocm/12c-ocm-system-builds/botany.html" style="font-family:monospace;font-size:large;background-color:#f2f2f2">
   BOTANY
  </a>
  ):
 </p>
 <pre style="background-color:lightgreen;border:5px groove black;padding:2px;margin-left:10px">SELECT CLIENT_PROCESS, PROCESS, THREAD#, SEQUENCE#, STATUS FROM 
<a href="https://docs.oracle.com/database/121/REFRN/GUID-CBE1185A-B3A3-4D66-B8B4-D6A26A0C0DB2.htm#REFRN30144" rel="nofollow">V$MANAGED_STANDBY</a> WHERE CLIENT_PROCESS='LGWR' OR PROCESS='MRP0'; 
</pre>
 <p>
  Sample output is:
 </p>
 <pre style="background-color:lightblue;border:5px groove black;padding:2px;margin-left:10px">CLIENT_P PROCESS      THREAD#  SEQUENCE# STATUS      
-------- --------- ---------- ---------- ------------
LGWR     RFS                1         53 IDLE        
N/A      MRP0               1         53 WAIT_FOR_LOG
</pre>
</div>
