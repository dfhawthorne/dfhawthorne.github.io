---
layout: default
title: '11G OCM Gather statistics on a specific table without invalidating cursors'
base-url: home/11g-ocm/11g-ocm-performance-management/11g-ocm-gather-statistics-on-a-specific-table-without-invalidating-cursors.html
breadcrumbs:
- title: 'Home'
  url: home.html
- title: '11G OCM'
  url: home/11g-ocm.html
- title: '11G OCM Performance Management'
  url: home/11g-ocm/11g-ocm-performance-management.html
- title: '11G OCM Gather statistics on a specific table without invalidating cursors'
  url: home/11g-ocm/11g-ocm-performance-management/11g-ocm-gather-statistics-on-a-specific-table-without-invalidating-cursors.html
table-of-contents:
- toc-url: References
  toc-text: References
- toc-url: Overview
  toc-text: Overview
- toc-url: Procedure
  toc-text: Procedure
  toc-menu:
  - toc-url: Gather-Statistics-Without-Invalidating-Cursors
    toc-text: Gather Statistics Without Invalidating Cursors
  - toc-url: Get-Current-Preference-for-NO_INVALIDATE
    toc-text: Get Current Preference for NO_INVALIDATE
---
<div dir="ltr">
 <h3>
  <a name="TOC-1">
  </a>
  <br/>
 </h3>
 <h3>
  <a name="TOC-References">
  </a>
  References
 </h3>
 <p>
  <a href="http://docs.oracle.com/cd/B28359_01/appdev.111/b28419/toc.htm" rel="nofollow">
   OracleÂ® Database PL/SQL Packages and Types Reference 11g Release 1 (11.1)
  </a>
 </p>
 <ul compact="compact">
  <li>
   <a href="http://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_stats.htm#CIHBIEII" rel="nofollow">
    <code>
     DBMS_STATS
    </code>
   </a>
  </li>
  <ul compact="compact">
   <li>
    <a href="http://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_stats.htm#i1036461" rel="nofollow">
     <code>
      GATHER_TABLE_STATS
     </code>
    </a>
   </li>
   <li>
    <a href="http://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_stats.htm#autoId56" rel="nofollow">
     <code>
      GET_PREFS
     </code>
    </a>
   </li>
  </ul>
 </ul>
 <h3>
  <a name="TOC-Overview">
  </a>
  Overview
 </h3>
 <p>
  The 11G OCM Upgrade Exam objective is:
 </p>
 <blockquote>
  Gather statistics on a specific table without invalidating cursors
 </blockquote>
 <h3>
  <a name="TOC-Procedure">
  </a>
  Procedure
 </h3>
 <h4>
  <a name="TOC-Gather-Statistics-Without-Invalidating-Cursors">
  </a>
  Gather Statistics Without Invalidating Cursors
 </h4>
 <p>
  The
  <a href="http://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_stats.htm#i1036461" rel="nofollow">
   <code>
    GATHER_TABLE_STATS
   </code>
  </a>
  procedure has a
  <code>
   no_invalidate
  </code>
  parameter which is described as:
 </p>
 <blockquote>
  <p>
   Does not invalidate the dependent cursors if set to TRUE. The procedure invalidates the dependent cursors immediately if set to FALSE. Use DBMS_STATS.AUTO_INVALIDATE. to have Oracle decide when to invalidate dependent cursors. This is the default. The default can be changed using the SET_DATABASE_PREFS Procedure, SET_GLOBAL_PREFS Procedure, SET_SCHEMA_PREFS Procedure and SET_TABLE_PREFS Procedure.
  </p>
 </blockquote>
 <p>
  An example of use would be:
 </p>
 <pre>EXEC dbms_stats.gather_table_stats( 'SH', 'CUSTOMERS', no_invalidate =&gt; TRUE )
</pre>
 <h4>
  <a name="TOC-Get-Current-Preference-for-NO_INVALIDATE">
  </a>
  Get Current Preference for NO_INVALIDATE
 </h4>
 <p>
  The current preference for the
  <code>
   NO_INVALIDATE
  </code>
  parameter is obtained by the
  <a href="http://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_stats.htm#autoId56" rel="nofollow">
   <code>
    GET_PREFS
   </code>
  </a>
  procedure:
 </p>
 <pre>SELECT dbms_stats.get_prefs( 'NO_INVALIDATE' ) FROM dual;
</pre>
 <table align="center" border="1">
  <thead>
   <tr>
    <th>
     DBMS_STATS.GET_PREFS('NO_INVALIDATE')
    </th>
   </tr>
  </thead>
  <tbody>
   <tr>
    <td>
     DBMS_STATS.AUTO_INVALIDATE
    </td>
   </tr>
  </tbody>
 </table>
</div>
