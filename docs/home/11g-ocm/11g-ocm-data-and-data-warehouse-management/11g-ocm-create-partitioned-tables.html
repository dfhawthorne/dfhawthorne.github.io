---
layout: default
title: '11G OCM Create partitioned tables'
base-url: home/11g-ocm/11g-ocm-data-and-data-warehouse-management/11g-ocm-create-partitioned-tables.html
breadcrumbs:
- title: 'Home'
  url: index.html
- title: '11G OCM'
  url: home/11g-ocm.html
- title: '11G OCM Data and Data Warehouse Management'
  url: home/11g-ocm/11g-ocm-data-and-data-warehouse-management.html
- title: '11G OCM Create partitioned tables'
  url: home/11g-ocm/11g-ocm-data-and-data-warehouse-management/11g-ocm-create-partitioned-tables.html
---
<div dir="ltr">
 <h3>
  <a name="TOC-References">
  </a>
  References
 </h3>
 <p>
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28318/toc.htm" rel="nofollow">
   Oracle® Database Concepts 11g Release 1 (11.1)
  </a>
 </p>
 <ul>
  <li>
   <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28318/mgmt_db.htm#insertedID0" rel="nofollow">
    Chapter 14, "Manageability"
   </a>
  </li>
  <ul>
   <li>
    <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28318/mgmt_db.htm#BDCDHAAC" rel="nofollow">
     Space Management
    </a>
   </li>
   <ul>
    <li>
     <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28318/mgmt_db.htm#BDCJBFBH" rel="nofollow">
      Oracle-Managed Files
     </a>
    </li>
   </ul>
  </ul>
 </ul>
 <p>
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28298/toc.htm" rel="nofollow">
   Oracle® Database Globalization Support Guide 11g Release 1 (11.1)
  </a>
 </p>
 <ul>
  <li>
   <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28298/applocaledata.htm#insertedID0" rel="nofollow">
    Appendix A, "Locale Data"
   </a>
  </li>
  <ul>
   <li>
    <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28298/applocaledata.htm#insertedID8" rel="nofollow">
     Time Zone Names
    </a>
   </li>
  </ul>
 </ul>
 <p>
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/toc.htm" rel="nofollow">
   Oracle® Database SQL Language Reference 11g Release 1 (11.1)
  </a>
 </p>
 <ul>
  <li>
   <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/functions191.htm#insertedID0" rel="nofollow">
    <span style="font-family:monospace">
     TO_DATE
    </span>
   </a>
  </li>
  <li>
   <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/functions202.htm#insertedID0" rel="nofollow">
    <span style="font-family:monospace">
     TO_TIMESTAMP_TZ
    </span>
   </a>
  </li>
  <li>
   <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/statements_5011.htm#i2062403" rel="nofollow">
    <span style="font-family:monospace">
     CREATE INDEX
    </span>
   </a>
  </li>
  <li>
   <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/statements_7002.htm#i2095331" rel="nofollow">
    <span style="font-family:monospace">
     CREATE TABLE
    </span>
   </a>
  </li>
  <li>
   <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/statements_7003.htm#i2231734" rel="nofollow">
    <span style="font-family:monospace">
     CREATE TABLESPACE
    </span>
   </a>
  </li>
  <li>
   <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/statements_8003.htm#i2065278" rel="nofollow">
    <span style="font-family:monospace">
     CREATE USER
    </span>
   </a>
  </li>
  <li>
   <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/statements_9013.htm#i2155015" rel="nofollow">
    <span style="font-family:monospace">
     GRANT
    </span>
   </a>
  </li>
 </ul>
 <p>
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/toc.htm" rel="nofollow">
   Oracle® Database VLDB and Partitioning Guide 11g Release 1 (11.1)
  </a>
 </p>
 <ul>
  <li>
   <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/partition.htm#insertedID0" rel="nofollow">
    Chapter 2, "Partitioning Concepts"
   </a>
  </li>
  <ul>
   <li>
    <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/partition.htm#CACFECJC" rel="nofollow">
     Basics of Partitioning
    </a>
   </li>
   <li>
    <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/partition.htm#insertedID4" rel="nofollow">
     Partitioning Extensions
    </a>
   </li>
   <ul>
    <li>
     <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/partition.htm#CACICEBJ" rel="nofollow">
      Manageability Extensions
     </a>
    </li>
    <ul>
     <li>
      <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/partition.htm#CACHFHHF" rel="nofollow">
       Interval Partitioning
      </a>
     </li>
    </ul>
    <li>
     <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/partition.htm#CACCEJDI" rel="nofollow">
      Partitioning Key Extensions
     </a>
    </li>
    <ul>
     <li>
      <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/partition.htm#CACIHDII" rel="nofollow">
       Reference Partitioning
      </a>
     </li>
    </ul>
   </ul>
  </ul>
  <li>
   <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#insertedID0" rel="nofollow">
    Chapter 3, "Partition Administration"
   </a>
  </li>
  <ul>
   <li>
    <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#i1106387" rel="nofollow">
     Creating Partitions
    </a>
   </li>
   <ul>
    <li>
     <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#i1006455" rel="nofollow">
      Creating Range-Partitioned Tables and Global Indexes
     </a>
    </li>
    <li>
     <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#BAJHFFBE" rel="nofollow">
      Creating Interval-Partitioned Tables
     </a>
    </li>
    <li>
     <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#i1006508" rel="nofollow">
      Creating Hash-Partitioned Tables and Global Indexes
     </a>
    </li>
    <li>
     <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#i1006532" rel="nofollow">
      Creating List-Partitioned Tables
     </a>
    </li>
    <li>
     <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#BAJDDEEC" rel="nofollow">
      Creating Reference-Partitioned Tables
     </a>
    </li>
   </ul>
  </ul>
 </ul>
 <p>
  <a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;doctype=BULLETIN&amp;id=69374.1" rel="nofollow">
   Partitioned Indexes: Global, Local, Prefixed and Non-Prefixed [ID 69374.1]
  </a>
 </p>
 <p>
  <a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;doctype=BULLETIN&amp;id=69715.1" rel="nofollow">
   Creating &amp; Adding Table and Index Partitions [ID 69715.1]
  </a>
 </p>
 <h3>
  <a name="TOC-Overview">
  </a>
  Overview
 </h3>
 <p>
  The objective from the
  <a href="http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=41&amp;p_exam_id=11gOCMU#3" rel="nofollow">
   11G OCM Upgrade Exam
  </a>
  is:
 </p>
 <blockquote>
  Create partitioned tables (including reference and interval partitioning)
 </blockquote>
 <h3>
  <a name="TOC-Reading-Notes">
  </a>
  Reading Notes
 </h3>
 <h4>
  <a name="TOC-Interval-Partitioning">
  </a>
  Interval Partitioning
 </h4>
 <p>
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/partition.htm#CACHFHHF" rel="nofollow">
   Interval Partitioning
  </a>
  is described as follows:
 </p>
 <blockquote>
  Interval partitioning is an extension of range partitioning which instructs the database to automatically create partitions of a specified interval when data inserted into the table exceeds all of the existing range partitions. You must specify at least one range partition. The range partitioning key value determines the high value of the range partitions, which is called the transition point, and the database creates interval partitions for data beyond that transition point. The lower boundary of every interval partition is the non-inclusive upper boundary of the previous range or interval partition.
 </blockquote>
 <h4>
  <a name="TOC-Reference-Partitioning">
  </a>
  Reference Partitioning
 </h4>
 <p>
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/partition.htm#CACIHDII" rel="nofollow">
   Reference Partitioning
  </a>
  is described as:
 </p>
 <blockquote>
  <p>
   Reference partitioning allows the partitioning of two tables related to one another by referential constraints.
   <span style="font-weight:bold">
    The partitioning key is resolved through an existing parent-child relationship, enforced by enabled and active primary key and foreign key constraints.
   </span>
  </p>
  <p>
   The benefit of this extension is that tables with a parent-child relationship can be logically equi-partitioned by inheriting the partitioning key from the parent table without duplicating the key columns. The logical dependency will also automatically cascade partition maintenance operations, thus making application development easier and less error-prone.
  </p>
  <p style="text-align:right;font-weight:bold">
   Emphasis Mine
  </p>
 </blockquote>
 <p>
  But,
 </p>
 <blockquote>
  <p>
   All basic partitioning strategies are available for reference Partitioning.
   <span style="font-weight:bold">
    Interval partitioning cannot be used with reference partitioning.
   </span>
  </p>
  <p style="text-align:right;font-weight:bold">
   Emphasis Mine
  </p>
 </blockquote>
 <h4>
  <a name="TOC-Creating-Partitions">
  </a>
  Creating Partitions
 </h4>
 <p>
  From
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#i1106387" rel="nofollow">
   Creating Partitions
  </a>
  ,
 </p>
 <blockquote>
  <p>
   When you create (or alter) a partitioned table, a row movement clause (either
   <span style="font-family:monospace">
    ENABLE ROW MOVEMENT
   </span>
   or
   <span style="font-family:monospace">
    DISABLE ROW MOVEMENT
   </span>
   ) can be specified. This clause either enables or disables the migration of a row to a new partition if its key is updated. The default is
   <span style="font-family:monospace">
    DISABLE ROW MOVEMENT
   </span>
   .
  </p>
 </blockquote>
 <h3>
  <a name="TOC-Examples">
  </a>
  Examples
 </h3>
 <h4>
  <a name="TOC-Creating-Range-Partitioned-Tables-and-Global-Indexes">
  </a>
  Creating Range-Partitioned Tables and Global Indexes
 </h4>
 <p>
  The example given in
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#i1006455" rel="nofollow">
   Creating Range-Partitioned Tables and Global Indexes
  </a>
  is reproduced as follows:
 </p>
 <h5>
  <a name="TOC-Create-Tablespaces">
  </a>
  Create Tablespaces
 </h5>
 <p>
  Because I am using OMF (
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28318/mgmt_db.htm#BDCJBFBH" rel="nofollow">
   Oracle-Managed Files
  </a>
  ), I can use the simple version of the
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/statements_7003.htm#i2231734" rel="nofollow">
   <span style="font-family:monospace">
    CREATE TABLESPACE
   </span>
  </a>
  command:
 </p>
 <blockquote style="font-family:monospace">
  CREATE TABLESPACE tsa;
  <br/>
  CREATE TABLESPACE tsb;
  <br/>
  CREATE TABLESPACE tsc;
  <br/>
  CREATE TABLESPACE tsd;
 </blockquote>
 <h5>
  <a name="TOC-Create-User">
  </a>
  Create User
 </h5>
 <p>
  Using the
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/statements_8003.htm#i2065278" rel="nofollow">
   <span style="font-family:monospace">
    CREATE USER
   </span>
  </a>
  command to create a test user,
  <span style="font-family:monospace">
   OCMPART
  </span>
  :
 </p>
 <blockquote style="font-family:monospace">
  CREATE USER ocmpart
  <br/>
  DEFAULT TABLESPACE tsa
  <br/>
  IDENTIFIED BY ********
  <br/>
  QUOTA UNLIMITED ON tsa
  <br/>
  QUOTA UNLIMITED ON tsb
  <br/>
  QUOTA UNLIMITED ON tsc
  <br/>
  QUOTA UNLIMITED ON tsd
  <br/>
  ACCOUNT UNLOCK
  <br/>
  ;
 </blockquote>
 <p>
  Using the
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/statements_9013.htm#i2155015" rel="nofollow">
   <span style="font-family:monospace">
    GRANT
   </span>
  </a>
  command, the appropriate privileges are granted to
  <span style="font-family:monospace">
   OCMPART
  </span>
  :
 </p>
 <blockquote style="font-family:monospace">
  GRANT CREATE SESSION, CREATE TABLE TO ocmpart;
 </blockquote>
 <h5>
  <a name="TOC-Create-Table">
  </a>
  Create Table
 </h5>
 <p>
  Using the
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/statements_7002.htm#i2095331" rel="nofollow">
   <span style="font-family:monospace">
    CREATE TABLE
   </span>
  </a>
  command, I created the table as described in
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#i1006455" rel="nofollow">
   Creating Range-Partitioned Tables and Global Indexes
  </a>
  using the
  <span style="font-family:monospace">
   OCMPART
  </span>
  user:
 </p>
 <blockquote style="font-family:monospace">
  CREATE TABLE sales
  <br/>
  ( prod_id       NUMBER(6)
  <br/>
  , cust_id       NUMBER
  <br/>
  , time_id       DATE
  <br/>
  , channel_id    CHAR(1)
  <br/>
  , promo_id      NUMBER(6)
  <br/>
  , quantity_sold NUMBER(3)
  <br/>
  , amount_sold   NUMBER(10,2)
  <br/>
  )
  <br/>
  STORAGE (INITIAL 100K NEXT 50K) LOGGING
  <br/>
  PARTITION BY RANGE (time_id)
  <br/>
  ( PARTITION sales_q1_2006 VALUES LESS THAN (TO_DATE('01-APR-2006','dd-MON-yyyy'))
  <br/>
  TABLESPACE tsa STORAGE (INITIAL 20K NEXT 10K)
  <br/>
  , PARTITION sales_q2_2006 VALUES LESS THAN (TO_DATE('01-JUL-2006','dd-MON-yyyy'))
  <br/>
  TABLESPACE tsb
  <br/>
  , PARTITION sales_q3_2006 VALUES LESS THAN (TO_DATE('01-OCT-2006','dd-MON-yyyy'))
  <br/>
  TABLESPACE tsc
  <br/>
  , PARTITION sales_q4_2006 VALUES LESS THAN (TO_DATE('01-JAN-2007','dd-MON-yyyy'))
  <br/>
  TABLESPACE tsd
  <br/>
  )
  <br/>
  ENABLE ROW MOVEMENT;
 </blockquote>
 <h5>
  <a name="TOC-Creating-a-Range-Partitioned-Global-Index">
  </a>
  Creating a Range-Partitioned Global Index
 </h5>
 <p>
  Using the
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/statements_5011.htm#i2062403" rel="nofollow">
   <span style="font-family:monospace">
    CREATE INDEX
   </span>
  </a>
  command, a global index is created from the example described in
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#i1006455" rel="nofollow">
   Creating Range-Partitioned Tables and Global Indexes
  </a>
  using the
  <span style="font-family:monospace">
   OCMPART
  </span>
  user:
 </p>
 <blockquote style="font-family:monospace">
  CREATE INDEX amount_sold_ix ON sales(amount_sold)
  <br/>
  GLOBAL PARTITION BY RANGE(sale_month)
  <br/>
  ( PARTITION p_100 VALUES LESS THAN (100)
  <br/>
  , PARTITION p_1000 VALUES LESS THAN (1000)
  <br/>
  , PARTITION p_10000 VALUES LESS THAN (10000)
  <br/>
  , PARTITION p_100000 VALUES LESS THAN (100000)
  <br/>
  , PARTITION p_1000000 VALUES LESS THAN (1000000)
  <br/>
  , PARTITION p_greater_than_1000000 VALUES LESS THAN (maxvalue)
  <br/>
  );
 </blockquote>
 <p>
  However, this commands fails with the following error message:
 </p>
 <pre>   GLOBAL PARTITION BY RANGE(sale_month)
                                       *
ERROR at line 2:
ORA-14038: GLOBAL partitioned index must be prefixed
</pre>
 <p>
  The explanation is:
 </p>
 <pre>// *Cause:  User attempted to create a GLOBAL non-prefixed partitioned index
//          which is illegal
// *Action: If the user, indeed, desired to create a non-prefixed
//          index, it must be created as LOCAL; otherwise, correct the list
//          of key and/or partitioning columns to ensure that the index is
//          prefixed
</pre>
 <p>
  <a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;doctype=BULLETIN&amp;id=69374.1" rel="nofollow">
   Partitioned Indexes: Global, Local, Prefixed and Non-Prefixed [ID 69374.1]
  </a>
  says that:
 </p>
 <blockquote>
  <p>
   Global non-prefixed indexes are not supported. This means that the index 
partitioning key must always be the leftmost index column. Anything else will 
raise the error:
  </p>
  <p>
   ORA-14038:  GLOBAL partitioned index must be prefixed
  </p>
 </blockquote>
 <p>
  <a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;doctype=BULLETIN&amp;id=69715.1" rel="nofollow">
   Creating &amp; Adding Table and Index Partitions [ID 69715.1]
  </a>
  expresses the same thing as:
 </p>
 <blockquote>
  <p>
   <span style="font-weight:bold">
    With Global indexes the index key must be the same as the partition key, this is known as a prefixed index (where the leftmost column in the index matches the leftmost column in the index's partition key).
   </span>
   If you wish the index key to be different to the partition key i.e. a non prefixed index, then the index must be created a Local index or you will receive an 'ORA-14038 Global partitioned index must be prefixed'.
  </p>
  <p style="font-weight:bold;text-align:right">
   Emphasis Mine
  </p>
 </blockquote>
 <p>
  I should have realised that
  <span style="font-family:monospace">
   SALE_MONTH
  </span>
  was not part of the table definition. Let's try a slightly different definition by making the index column and the partitioning key the same:
 </p>
 <blockquote style="font-family:monospace">
  CREATE INDEX amount_sold_ix ON sales(amount_sold)
  <br/>
  GLOBAL PARTITION BY RANGE(amount_sold)
  <br/>
  ( PARTITION p_100 VALUES LESS THAN (100)
  <br/>
  , PARTITION p_1000 VALUES LESS THAN (1000)
  <br/>
  , PARTITION p_10000 VALUES LESS THAN (10000)
  <br/>
  , PARTITION p_100000 VALUES LESS THAN (100000)
  <br/>
  , PARTITION p_1000000 VALUES LESS THAN (1000000)
  <br/>
  , PARTITION p_greater_than_1000000 VALUES LESS THAN (maxvalue)
  <br/>
  );
 </blockquote>
 <h4>
  <a name="TOC-Creating-Interval-Partitioned-Tables">
  </a>
  Creating Interval-Partitioned Tables
 </h4>
 <p>
  Using the example from
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#BAJHFFBE" rel="nofollow">
   Creating Interval-Partitioned Tables
  </a>
  ,
 </p>
 <blockquote style="font-family:monospace">
  CREATE TABLE interval_sales
  <br/>
  ( prod_id        NUMBER(6)
  <br/>
  , cust_id        NUMBER
  <br/>
  , time_id        DATE
  <br/>
  , channel_id     CHAR(1)
  <br/>
  , promo_id       NUMBER(6)
  <br/>
  , quantity_sold  NUMBER(3)
  <br/>
  , amount_sold    NUMBER(10,2)
  <br/>
  )
  <br/>
  PARTITION BY RANGE (time_id)
  <br/>
  INTERVAL(NUMTOYMINTERVAL(1, 'MONTH'))
  <br/>
  ( PARTITION p0 VALUES LESS THAN (TO_DATE('1-1-2005', 'DD-MM-YYYY')),
  <br/>
  PARTITION p1 VALUES LESS THAN (TO_DATE('1-1-2006', 'DD-MM-YYYY')),
  <br/>
  PARTITION p2 VALUES LESS THAN (TO_DATE('1-7-2006', 'DD-MM-YYYY')),
  <br/>
  PARTITION p3 VALUES LESS THAN (TO_DATE('1-1-2007', 'DD-MM-YYYY')) );
 </blockquote>
 <h4>
  <a name="TOC-Creating-Hash-Partitioned-Tables-and-Global-Indexes">
  </a>
  Creating Hash-Partitioned Tables and Global Indexes
 </h4>
 <p>
  Following the example in
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#i1006508" rel="nofollow">
   Creating Hash-Partitioned Tables and Global Indexes
  </a>
  ,
 </p>
 <blockquote style="font-family:monospace">
  CREATE TABLE dept (deptno NUMBER, deptname VARCHAR(32))
  <br/>
  STORAGE (INITIAL 10K)
  <br/>
  PARTITION BY HASH(deptno)
  <br/>
  (PARTITION p1 TABLESPACE tsa, PARTITION p2 TABLESPACE tsb,
  <br/>
  PARTITION p3 TABLESPACE tsc, PARTITION p4 TABLESPACE tsd);
  <br/>
  CREATE INDEX loc_dept_ix ON dept(deptno) LOCAL;
 </blockquote>
 <p>
  Creating a hash-partitioned global index,
 </p>
 <blockquote style="font-family:monospace">
  CREATE INDEX hgidx ON dept (deptname) GLOBAL
  <br/>
  PARTITION BY HASH (deptname)
  <br/>
  (PARTITION p1  TABLESPACE tsa,
  <br/>
  PARTITION p2  TABLESPACE tsb,
  <br/>
  PARTITION p3  TABLESPACE tsc,
  <br/>
  PARTITION p4  TABLESPACE tsd);
 </blockquote>
 <h4>
  <a name="TOC-Creating-List-Partitioned-Tables">
  </a>
  Creating List-Partitioned Tables
 </h4>
 <p>
  Following the example in
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#i1006532" rel="nofollow">
   Creating List-Partitioned Tables
  </a>
  ,
 </p>
 <blockquote style="font-family:monospace">
  CREATE TABLE sales_by_region (item# INTEGER, qty INTEGER,
  <br/>
  store_name VARCHAR(30), state_code VARCHAR(2),
  <br/>
  sale_date DATE)
  <br/>
  STORAGE(INITIAL 10K NEXT 20K) TABLESPACE tsc
  <br/>
  PARTITION BY LIST (state_code)
  <br/>
  (
  <br/>
  PARTITION region_east
  <br/>
  VALUES ('MA','NY','CT','NH','ME','MD','VA','PA','NJ')
  <br/>
  STORAGE (INITIAL 20K NEXT 40K PCTINCREASE 50)
  <br/>
  TABLESPACE tsb,
  <br/>
  PARTITION region_west
  <br/>
  VALUES ('CA','AZ','NM','OR','WA','UT','NV','CO')
  <br/>
  NOLOGGING,
  <br/>
  PARTITION region_south
  <br/>
  VALUES ('TX','KY','TN','LA','MS','AR','AL','GA'),
  <br/>
  PARTITION region_central
  <br/>
  VALUES ('OH','ND','SD','MO','IL','MI','IA'),
  <br/>
  PARTITION region_null
  <br/>
  VALUES (NULL),
  <br/>
  PARTITION region_unknown
  <br/>
  VALUES (DEFAULT)
  <br/>
  );
 </blockquote>
 <h4>
  <a name="TOC-Creating-Reference-Partitioned-Tables">
  </a>
  Creating Reference-Partitioned Tables
 </h4>
 <p>
  The example given in
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b32024/part_admin.htm#BAJDDEEC" rel="nofollow">
   Creating Reference-Partitioned Tables
  </a>
  fails with the following message:
 </p>
 <pre>ORA-30078: partition bound must be TIME/TIMESTAMP WITH TIME ZONE literals
</pre>
 <p>
  An extended explanation is:
 </p>
 <pre>// *Cause:  An attempt was made to use a time/timestamp expression whose format
//          does not explicitly have time zone on a TIME/TIMESTAMP or
//          TIME/TIMESTAMP WITH TIME ZONE column.
// *Action: Explicitly use TIME/TIMESTAMP WITH TIME ZONE literal.
</pre>
 <p>
  So, I replaced the
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/functions191.htm#insertedID0" rel="nofollow">
   <span style="font-family:monospace">
    TO_DATE
   </span>
  </a>
  function calls with
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/functions202.htm#insertedID0" rel="nofollow">
   <span style="font-family:monospace">
    TO_TIMESTAMP_TZ
   </span>
  </a>
  ones and adding the time zone information which is not supported by
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28286/functions191.htm#insertedID0" rel="nofollow">
   <span style="font-family:monospace">
    TO_DATE
   </span>
  </a>
  format models:
 </p>
 <p>
  I selected the time zone name of
  <cite>
   Australia/sydney
  </cite>
  from the list given in
  <a href="http://docs.oracle.com/cd/B28359_01/server.111/b28298/applocaledata.htm#insertedID8" rel="nofollow">
   Time Zone Names
  </a>
  .
 </p>
 <blockquote style="font-family:monospace">
  CREATE TABLE orders
  <br/>
  ( order_id           NUMBER(12),
  <br/>
  order_date         TIMESTAMP WITH LOCAL TIME ZONE,
  <br/>
  order_mode         VARCHAR2(8),
  <br/>
  customer_id        NUMBER(6),
  <br/>
  order_status       NUMBER(2),
  <br/>
  order_total        NUMBER(8,2),
  <br/>
  sales_rep_id       NUMBER(6),
  <br/>
  promotion_id       NUMBER(6),
  <br/>
  CONSTRAINT orders_pk PRIMARY KEY(order_id)
  <br/>
  )
  <br/>
  PARTITION BY RANGE(order_date)
  <br/>
  ( PARTITION Q1_2005 VALUES LESS THAN (TO_TIMESTAMP_TZ('01-APR-2005 Australia/Sydney','DD-MON-YYYY TZR')),
  <br/>
  PARTITION Q2_2005 VALUES LESS THAN (TO_TIMESTAMP_TZ('01-JUL-2005 Australia/Sydney','DD-MON-YYYY TZR')),
  <br/>
  PARTITION Q3_2005 VALUES LESS THAN (TO_TIMESTAMP_TZ('01-OCT-2005 Australia/Sydney','DD-MON-YYYY TZR')),
  <br/>
  PARTITION Q4_2005 VALUES LESS THAN (TO_TIMESTAMP_TZ('01-JAN-2006 Australia/Sydney','DD-MON-YYYY TZR'))
  <br/>
  );
  <br/>
  <br/>
  CREATE TABLE order_items
  <br/>
  ( order_id           NUMBER(12) NOT NULL,
  <br/>
  line_item_id       NUMBER(3)  NOT NULL,
  <br/>
  product_id         NUMBER(6)  NOT NULL,
  <br/>
  unit_price         NUMBER(8,2),
  <br/>
  quantity           NUMBER(8),
  <br/>
  CONSTRAINT order_items_fk
  <br/>
  FOREIGN KEY(order_id) REFERENCES orders(order_id)
  <br/>
  )
  <br/>
  PARTITION BY REFERENCE(order_items_fk);
  <br/>
 </blockquote>
</div>
